{"version":3,"sources":["webpack:///./templates/film-card.hbs","webpack:///./js/refs.js","webpack:///./js/storage.js","webpack:///./js/themes.js","webpack:///./js/footermodal.js","webpack:///./js/theme-change.js","webpack:///./js/error-notification.js","webpack:///./js/key-words.js","webpack:///./js/pagination.js","webpack:///./js/addContent.js","webpack:///./js/request.js","webpack:///./js/apiService.js","webpack:///./js/spinner.js","webpack:///./js/fetch.js","webpack:///./js/modal.js","webpack:///./js/modal-close.js","webpack:///./js/movieLibrary.js","webpack:///./js/fnHendler.js","webpack:///./js/change-header-theme.js","webpack:///./js/library-list-hendler.js","webpack:///./index.js","webpack:///./js/header-position.js","webpack:///./js/up-btn.js","webpack:///./templates/pagination.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","refs","headerNavContainer","document","querySelector","paginationBox","paginationList","filmListRef","checkboxEl","bodyEl","modalRef","backdropModalRef","closeBtn","modalImg","modalTitle","votes","rate","popularity","title","genre","descr","votesTitle","popularityTitle","originalTitle","genresTitle","addToWatchedBtn","addToQueueBtn","pageLibraryRef","divLightbox","btnClose","modalClose","openModal","siteNavButtons","logoNav","libraryList","searchForm","homeHeaderBtn","libraryHeaderBtn","watchedBtn","queueBtn","headerContainer","spinner","errorNoteRef","messageLibRef","load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","LIGHT","DARK","onModalCloseDiv","event","classList","add","remove","window","setTimeout","addEventListener","savedTheme","onCheckboxChecked","checked","onCheckboxNotChecked","currentTarget","target","nodeName","showErrorNotification","element","style","display","numberOfPagesPagination","totalPages","contains","nameLibrary","textContent","pathForImg","listFilms","detalsFilms","length","showErrorNote","innerHTML","message","resultForMarkup","map","elem","genresFilm","find","item","id","genres","slice","name","poster_path","release_date","insertAdjacentHTML","filmCard","HOME","SEARCH","WATCHED","QUEUE","ulrApi","query","page","keyApi","language","currentRequest","fetchReturn","url","opts","fetch","then","response","json","catch","fetchData","currentPage","this","urlApi","log","Error","headers","Accept","fetchDetalsFilm","movieId","body","clientWidth","totalHits","activePage","arrayPagination","apiService","perPage","Math","ceil","numberOfPages","centerOfPages","Array","from","v","k","limit","isActive","createArrayPaginationMobile","createArrayPagination","eventTarget","itemStart","floor","currentNumStart","currentNumEnd","numStart","numEnd","fetchSettings","pagePagination","resultArray","set","resAwait","totalResults","total_results","results","promisesIdFilms","Promise","all","resultArrayDetalsFilm","addContent","pagination","Number","numFirst","numLast","updateModalValue","genresSep","object","obj","valueHeight","src","vote_average","vote_count","original_title","overview","dataset","offsetHeight","openingModal","path","movieid","includes","onEscPress","closingModal","removeEventListener","code","preventDefault","splice","indexOf","push","searchQuery","elements","trim","fnFetch","req","request","onSiteNavButtonsClick","parentElement","reset","toggle","fnHendler","headerFixed","lastScrollTop","scrollTop","pageYOffset","documentElement","top","passive","goTopBtn","scrolled","coords","clientHeight","backToTop","scrollBy","lambda"],"mappings":"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","file":"main.8c2c57ccea5088a854ea.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"film item\\\" data-movieId=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":43},\"end\":{\"line\":2,\"column\":49}}}) : helper)))\n    + \">\\r\\n          <div href=\\\"\\\" class=\\\"film__link link\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":12},\"end\":{\"line\":8,\"column\":20}}})) != null ? stack1 : \"\")\n    + \"\\r\\n            <div class=\\\"film__content\\\"}>\\r\\n              <h3 class=\\\"film__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":38},\"end\":{\"line\":11,\"column\":47}}}) : helper)))\n    + \"</h3>\\r\\n              <div class=\\\"film__info\\\">\\r\\n                <ul class=\\\"film__genres\\\" >\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":18},\"end\":{\"line\":19,\"column\":26}}})) != null ? stack1 : \"\")\n    + \"|&ensp;\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":33},\"end\":{\"line\":19,\"column\":49}}}) : helper)))\n    + \"&ensp;</ul>\\r\\n                  <span class=\\\"film__average\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":46},\"end\":{\"line\":20,\"column\":62}}}) : helper)))\n    + \"</span></div>\\r\\n            </div>\\r\\n          </вa>\\r\\n        </li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"             <img src=\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":22},\"end\":{\"line\":5,\"column\":37}}}) : helper)))\n    + \" class=\\\"film__img\\\" alt=\\\"\\\">\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"             <img src=\\\"/images/default-opt.jpg\\\" class=\\\"film__img\\\" alt=\\\"\\\">\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,\"last\")),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":18},\"end\":{\"line\":18,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"                 \";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <li class=\\\"film__list__genre\\\"> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":63},\"end\":{\"line\":15,\"column\":71}}}) : helper)))\n    + \"&thinsp;</li>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                <li class=\\\"film__list__genre\\\"> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":63},\"end\":{\"line\":17,\"column\":71}}}) : helper)))\n    + \",&thinsp;</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":8},\"end\":{\"line\":24,\"column\":17}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n  headerNavContainer: document.querySelector('.header-nav-container'),\r\n  paginationBox: document.querySelector('.pagination'),\r\n  paginationList: document.querySelector('.pagination__list'),\r\n  filmListRef: document.querySelector('.films__list'),\r\n  checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n  bodyEl: document.querySelector('body'),\r\n  modalRef: document.querySelector('.modal'),\r\n  backdropModalRef: document.querySelector('.backdrop'),\r\n  closeBtn: document.querySelector('[data-action=close]'),\r\n\r\n  modalImg: document.querySelector('.modal__image'),\r\n  modalTitle: document.querySelector('.modal__title'),\r\n  votes: document.querySelector('[data-attribute=\"votes\"]'),\r\n  rate: document.querySelector('.film-info__rate'),\r\n  popularity: document.querySelector('[data-attribute=\"popularity\"]'),\r\n  title: document.querySelector('[data-attribute=\"title\"]'),\r\n  genre: document.querySelector('[data-attribute=\"genre\"]'),\r\n  descr: document.querySelector('.description-text'),\r\n  votesTitle: document.querySelector('[data-attribute=\"votesTitle\"]'),\r\n  popularityTitle: document.querySelector('[data-attribute=\"popularityTitle\"]'),\r\n  originalTitle: document.querySelector('[data-attribute=\"originalTitle\"]'),\r\n  genresTitle: document.querySelector('[data-attribute=\"genresTitle\"]'),\r\n\r\n  addToWatchedBtn: document.querySelector('.modal__btn--watched'),\r\n  addToQueueBtn: document.querySelector('.modal__btn--queue'),\r\n\r\n  //  =======\r\n\r\n  pageLibraryRef: () => document.querySelector('[data-request=\"library\"]'),\r\n\r\n  //=======\r\n  divLightbox: document.querySelector('.lightbox'),\r\n  btnClose: document.querySelector('.lightbox__button'),\r\n  modalClose: document.querySelector('.lightbox__body'),\r\n  openModal: document.querySelector('.js-footer__text'),\r\n\r\n  // ========= после перемены Хедера!\r\n\r\n  siteNavButtons: document.querySelector('.site-nav__list'),\r\n  logoNav: document.querySelector('.logo-container'),\r\n  libraryList: document.querySelector('.library__list'),\r\n  searchForm: document.querySelector('.search-form'),\r\n  homeHeaderBtn: document.querySelector('.js-home'),\r\n  libraryHeaderBtn: document.querySelector('.js-library'),\r\n  watchedBtn: document.querySelector('[data-request=\"watched\"]'),\r\n  queueBtn: document.querySelector('[data-request=\"queue\"]'),\r\n  headerContainer: document.querySelector('.header-container'),\r\n\r\n  spinner: document.querySelector('#spinner'),\r\n  errorNoteRef: document.querySelector('.header__error'),\r\n  messageLibRef: document.querySelector('.films__message'),\r\n};\r\n\r\nexport default refs;\r\n","// Theme storage\r\nconst load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nconst remove = key => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (err) {\r\n    console.error('Remove state error: ', err);\r\n  }\r\n};\r\nexport { load, save, remove };","const Themes = {\r\n  LIGHT: 'light-theme',\r\n  DARK: 'dark-theme',\r\n};\r\n\r\nconst { LIGHT, DARK } = Themes;\r\n\r\nexport { LIGHT, DARK };\r\n","import refs from './refs';\r\n\r\nrefs.openModal.addEventListener('click', onOpenModal);\r\nrefs.btnClose.addEventListener('click', onModalClose);\r\nrefs.modalClose.addEventListener('click', onModalCloseDiv);\r\ndocument.addEventListener('keydown', onModalCloseEsc);\r\n\r\n\r\nfunction onModalCloseDiv(event) {\r\n    refs.modalClose.classList.add('slideUpOut');\r\n    refs.modalClose.classList.remove('slideUpIn');\r\n    window.setTimeout(function() {\r\n        refs.divLightbox.classList.remove('is-open');\r\n        refs.bodyEl.classList.remove('is-open');\r\n    }, 500);\r\n\r\n\r\n}\r\n\r\nfunction onModalClose(event) {\r\n    if (event.target.nodeName === 'BUTTON') {\r\n        onModalCloseDiv();\r\n    }\r\n}\r\n\r\nfunction onModalCloseEsc(event) {\r\n    if (event.key === 'Escape') {\r\n        onModalCloseDiv();\r\n    }\r\n}\r\n\r\nfunction onOpenModal(event) {\r\n    refs.modalClose.classList.remove('slideUpOut');\r\n    refs.divLightbox.classList.add('is-open');\r\n    refs.bodyEl.classList.add('is-open');\r\n    refs.modalClose.classList.add('slideUpIn');\r\n\r\n}","import { LIGHT, DARK } from './themes';\r\nimport { load, save, remove } from './storage';\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\r\nconst refs = {\r\n  checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n  bodyEl: document.querySelector('body'),\r\n}\r\n\r\nfunction onCheckboxChange() {\r\n  event.currentTarget.checked ? onCheckboxChecked() : onCheckboxNotChecked();\r\n}\r\n\r\nfunction onCheckboxChecked() {\r\n  refs.bodyEl.classList.add(DARK);\r\n  refs.bodyEl.classList.remove(LIGHT);\r\n  save('Theme', DARK);\r\n  refs.checkboxEl.checked = true;\r\n}\r\n\r\nfunction onCheckboxNotChecked() {\r\n  refs.bodyEl.classList.add(LIGHT);\r\n  refs.bodyEl.classList.remove(DARK);\r\n  save('Theme', LIGHT);\r\n  refs.checkboxEl.checked = false;\r\n}\r\n\r\nfunction currentTheme() {\r\n  const savedTheme = load('Theme');\r\n  if (savedTheme === LIGHT) {\r\n    onCheckboxNotChecked();\r\n    return;\r\n  }\r\n  if (savedTheme === DARK) {\r\n    onCheckboxChecked();\r\n    return;\r\n  }\r\n}\r\ncurrentTheme();\r\nrefs.checkboxEl.addEventListener('change', onCheckboxChange);\r\n\r\n});\r\n","\r\n\r\nexport default function showErrorNotification(element)  {\r\n    element.style.display = \"block\";\r\n    setTimeout(() => {\r\n      element.style.display = \"none\";\r\n    }, 2000);\r\n}","import refs from './refs';\r\nimport { load } from './storage';\r\n\r\nexport default {\r\n  messageClose() {\r\n    if (!refs.messageLibRef.classList.contains('is-hidden')) {\r\n      refs.messageLibRef.classList.add('is-hidden');\r\n    }\r\n  },\r\n\r\n  messageShow() {\r\n    refs.messageLibRef.classList.remove('is-hidden');\r\n  },\r\n  messageAboutLibrary() {\r\n    const nameLibrary = load('currentRequest');\r\n    refs.messageLibRef.classList.remove('is-hidden');\r\n    refs.messageLibRef.textContent = `Oops! Your \"${nameLibrary}\" library is empty!`;\r\n  },\r\n};\r\n","import paginationList from '../templates/pagination.hbs';\r\nimport apiService from './apiService.js';\r\nimport refs from './refs';\r\nlet numberOfPagesPagination;\r\n\r\nconst FETCH = 20;\r\nconst screenWidth = 580;\r\nconst limit = 20;\r\nlet totalPages;\r\n\r\nfunction createArrayPaginationMobile(numberOfPages, activePage, totalPages) {\r\n  let arrayOfPages;\r\n  const centerOfPages = Math.ceil(numberOfPages / 2);\r\n\r\n  if (numberOfPages >= totalPages || activePage <= centerOfPages) {\r\n    arrayOfPages = Array.from({ length: numberOfPages }, (v, k) => {\r\n      return k + 1;\r\n    });\r\n  } else if (activePage >= limit - 2) {\r\n    arrayOfPages = Array.from(\r\n      { length: numberOfPages },\r\n      (v, k) => limit - numberOfPages + k + 1,\r\n    );\r\n  } else {\r\n    arrayOfPages = Array.from(\r\n      { length: numberOfPages },\r\n      (v, k) => activePage - centerOfPages + k + 1,\r\n    );\r\n  }\r\n\r\n  return arrayOfPages.map(elem =>\r\n    elem === activePage ? { elem, isActive: true } : { elem, isActive: false },\r\n  );\r\n}\r\nfunction createArrayPagination(numberOfPages, activePage, totalPages) {\r\n  let arrayOfPages;\r\n  const centerOfPages = Math.ceil(numberOfPages / 2);\r\n  if (numberOfPages >= totalPages) {\r\n    arrayOfPages = Array.from({ length: numberOfPages }, (v, k) => {\r\n      return k + 1;\r\n    });\r\n  } else if (activePage <= centerOfPages) {\r\n    arrayOfPages = [\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return k + 1;\r\n      }),\r\n      '...',\r\n      totalPages,\r\n    ];\r\n  } else if (activePage === totalPages) {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return activePage - numberOfPages + 3 + k;\r\n      }),\r\n    ];\r\n  } else if (activePage >= totalPages - 4) {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return limit - numberOfPages + 3 + k;\r\n      }),\r\n    ];\r\n\r\n  } else {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 5 }, (v, k) => {\r\n        return activePage - centerOfPages + k + 3;\r\n      }),\r\n      '...',\r\n      totalPages,\r\n    ];\r\n  }\r\n\r\n  return arrayOfPages.map(elem =>\r\n    elem === activePage ? { elem, isActive: true } : { elem, isActive: false },\r\n  );\r\n}\r\n\r\nexport default {\r\n  addPaginationList(totalHits, activePage) {\r\n    // console.log('totalHits',totalHits,'activePage',activePage);\r\n    if (!totalHits || totalHits <= apiService.perPage) {\r\n      refs.paginationBox.classList.add('is-hidden');\r\n      return;\r\n    }\r\n\r\n    totalPages =\r\n      totalHits / apiService.perPage <= limit\r\n        ? Math.ceil(totalHits / apiService.perPage)\r\n        : limit;\r\n\r\n    if (!totalHits) return;\r\n    let arrayPagination;\r\n\r\n    if (totalPages <= 5) {\r\n      numberOfPagesPagination = totalPages;\r\n    } else {\r\n      if (document.body.clientWidth < screenWidth) {\r\n        numberOfPagesPagination = 5;\r\n      } else {\r\n        numberOfPagesPagination = 9;\r\n      }\r\n    }\r\n    if (document.body.clientWidth < screenWidth) {\r\n      arrayPagination = createArrayPaginationMobile(\r\n        totalPages <= 5 ? totalPages : numberOfPagesPagination,\r\n        activePage,\r\n        totalPages,\r\n      );\r\n    } else {\r\n      arrayPagination = createArrayPagination(\r\n        totalPages <= 9 ? totalPages : numberOfPagesPagination,\r\n        activePage,\r\n        totalPages,\r\n      );\r\n    }\r\n\r\n    refs.paginationBox.classList.remove('is-hidden');\r\n    refs.paginationList.innerHTML = '';\r\n    refs.paginationList.insertAdjacentHTML(\r\n      'beforeend',\r\n      paginationList(arrayPagination),\r\n    );\r\n  },\r\n\r\n  getActivePageForFetch(eventTarget) {\r\n\r\n    let activePage = +refs.paginationBox.querySelector('.active').textContent;\r\n\r\n    if (eventTarget.classList.contains('prev')) {\r\n      return activePage > 1 ? activePage - 1 : 1;\r\n    }\r\n    if (eventTarget.classList.contains('next')) {\r\n      // console.log(activePage, totalPages);\r\n      return activePage < totalPages ? activePage + 1 : totalPages;\r\n    }\r\n    return +eventTarget.textContent;\r\n  },\r\n\r\n  getSettingForFetch(activePage) {\r\n\r\n    let resultArray = [];\r\n    const perPage = apiService.perPage;\r\n\r\n    let itemEnd = activePage * perPage;\r\n    let itemStart = itemEnd - perPage + 1;\r\n\r\n    const currentPage = Math.floor(itemStart / FETCH) + 1;\r\n    const currentNumStart = (itemStart % FETCH) - 1;\r\n    let currentNumEnd = currentNumStart + perPage;\r\n\r\n    if (currentNumEnd < FETCH) {\r\n      resultArray = [\r\n        { page: currentPage, numStart: currentNumStart, numEnd: currentNumEnd },\r\n      ];\r\n      return resultArray;\r\n    }\r\n    //одна страница\r\n    else {\r\n      resultArray = [\r\n        { page: currentPage, numStart: currentNumStart, numEnd: FETCH },\r\n      ];\r\n    }\r\n\r\n    const nextPage = currentPage + 1;\r\n    const nextNumStart = 0;\r\n    const nextNumEnd = nextNumStart + perPage - (FETCH - currentNumStart);\r\n    resultArray = [\r\n      ...resultArray,\r\n      { page: nextPage, numStart: nextNumStart, numEnd: nextNumEnd },\r\n    ];\r\n    return resultArray;\r\n  },\r\n\r\n  getActivePage() {\r\n    return +refs.paginationBox.querySelector('.active').textContent;\r\n  },\r\n};\r\n","import filmCard from '../templates/film-card.hbs';\r\nimport refs from './refs';\r\nimport showErrorNote from './error-notification';\r\nimport message from './key-words';\r\n\r\nconst pathForImg = 'https://image.tmdb.org/t/p/w342/';\r\nconst imgDefault = './images/default-opt.jpg';\r\n\r\nexport default {\r\n  additemList(listFilms, detalsFilms) {\r\n    if (!listFilms || !listFilms.length) {\r\n      showErrorNote(refs.errorNoteRef);\r\n      refs.filmListRef.innerHTML = '';\r\n      refs.paginationList.innerHTML = '';\r\n      return;\r\n    }\r\n    message.messageClose();\r\n    const resultForMarkup = listFilms.map(elem => {\r\n      const genresFilm = detalsFilms.find(item => item.id === elem.id).genres;\r\n\r\n      const genres =\r\n        genresFilm.length > 2\r\n          ? [...genresFilm.slice(0, 2), { id: 999, name: 'Other' }]\r\n          : genresFilm;\r\n\r\n      return {\r\n        ...elem,\r\n        poster_path: elem.poster_path ? pathForImg + elem.poster_path : false,\r\n        release_date: elem.release_date ? elem.release_date.slice(0, 4) : '',\r\n        genres,\r\n      };\r\n    });\r\n\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.filmListRef.insertAdjacentHTML('beforeend', filmCard(resultForMarkup));\r\n  },\r\n\r\n  addLibraryList(listFilms) {\r\n    if (!listFilms || !listFilms.length) {\r\n      refs.filmListRef.innerHTML = '';\r\n      refs.paginationList.innerHTML = '';\r\n\r\n      message.messageAboutLibrary();\r\n      message.messageShow();\r\n      return;\r\n    }\r\n    message.messageClose();\r\n    const resultForMarkup = listFilms.map(elem => {\r\n      const genres =\r\n        elem.genres.length > 2\r\n          ? [...elem.genres.slice(0, 2), { id: 999, name: 'Other' }]\r\n          : elem.genres;\r\n\r\n      return {\r\n        ...elem,\r\n        poster_path: elem.poster_path\r\n          ? pathForImg + elem.poster_path\r\n          : imgDefault,\r\n        release_date: elem.release_date ? elem.release_date.slice(0, 4) : '',\r\n        genres,\r\n      };\r\n    });\r\n\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.filmListRef.insertAdjacentHTML('beforeend', filmCard(resultForMarkup));\r\n  },\r\n};\r\n","const requstName = {\r\n  HOME: 'home',\r\n  SEARCH: 'search',\r\n  WATCHED: 'watched',\r\n  QUEUE: 'queue',\r\n};\r\nconst { HOME, SEARCH, WATCHED, QUEUE } = requstName;\r\n\r\nexport { HOME, SEARCH, WATCHED, QUEUE };\r\n","import { load, save, remove } from './storage';\r\nimport { HOME, SEARCH } from './request.js';\r\n\r\nexport default {\r\n  ulrApi: '',\r\n  query: '',\r\n  page: 1,\r\n  keyApi: '0e6eebd27dfd68a7c4ec96f04756cc6c',\r\n  language: 'en-US',\r\n  currentRequest: '',\r\n\r\n  fetchReturn(url, opts) {\r\n    return fetch(url, opts)\r\n      .then(response => response.json())\r\n      .then(data => data)\r\n      .catch(console.error);\r\n  },\r\n\r\n  fetchData({ page: currentPage = 1 }) {\r\n    this.page = currentPage;\r\n\r\n    this.currentRequest = load('currentRequest');\r\n    switch (this.currentRequest) {\r\n      case HOME:\r\n        this.urlApi = `https://api.themoviedb.org/3/trending/movie/week?api_key=${this.keyApi}&page=${this.page}&language=${this.language}`;\r\n        break;\r\n\r\n      case SEARCH:\r\n        this.urlApi = `https://api.themoviedb.org/3/search/movie?api_key=${this.keyApi}&page=${this.page}&query=${this.query}&language=${this.language}`;\r\n        break;\r\n\r\n      default:\r\n        console.log(Error('Не найден тип текущего запроса'));\r\n    }\r\n\r\n    const options = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    };\r\n\r\n    return this.fetchReturn(this.urlApi, options);\r\n  },\r\n\r\n  fetchDetalsFilm(movieId) {\r\n    const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${this.keyApi}&language=${this.language}`;\r\n\r\n    const options = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    };\r\n\r\n    return this.fetchReturn(urlApi, options);\r\n  },\r\n\r\n  set searchQuery(value) {\r\n    this.query = value;\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  get perPage() {\r\n    if (document.body.clientWidth < 768) {\r\n      return 4;\r\n    }\r\n    if (document.body.clientWidth < 1024) {\r\n      return 8;\r\n    }\r\n    return 9;\r\n  },\r\n  get languageReq() {\r\n    return this.language;\r\n  },\r\n  set languageReq(value) {\r\n    this.language = value;\r\n  },\r\n};\r\n","// import '../node_modules/spinkit/spinkit.css';\r\n\r\nimport refs from './refs';\r\n\r\nexport default {\r\n  spinnerShow() {\r\n    refs.spinner.classList.remove('is-hidden__spinner');\r\n  },\r\n\r\n  spinnerClose() {\r\n    refs.spinner.classList.add('is-hidden__spinner');\r\n  },\r\n};\r\n","import addContent from './addContent';\r\nimport apiService from './apiService.js';\r\nimport pagination from './pagination.js';\r\nimport updateModalValue from './modal';\r\nimport refs from './refs';\r\nimport spinner from './spinner';\r\n\r\nexport default {\r\n  async fetchData(\r\n    fetchSettings = [{ page: 1, numStart: 0, numEnd: apiService.perPage }],\r\n    pagePagination = 1,\r\n  ) {\r\n    try {\r\n      let resultArray = [];\r\n      let totalResults;\r\n      // console.log('fetchSettings',fetchSettings);\r\n      spinner.spinnerShow();\r\n      for (let set of fetchSettings) {\r\n        const resAwait = await apiService.fetchData(set);\r\n        totalResults = resAwait.total_results;\r\n        resultArray = [\r\n          ...resultArray,\r\n          ...resAwait.results.slice(set.numStart, set.numEnd),\r\n        ];\r\n      }\r\n      const promisesIdFilms = resultArray.map(elem =>\r\n        apiService.fetchDetalsFilm(elem.id),\r\n      );\r\n      const resultArrayDetalsFilm = await Promise.all(promisesIdFilms);\r\n\r\n      addContent.additemList(resultArray, resultArrayDetalsFilm);\r\n\r\n      pagination.addPaginationList(totalResults, pagePagination);\r\n      spinner.spinnerClose();\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async fetchDataLibrary(pagePagination = 1, listFilms) {\r\n    spinner.spinnerShow();\r\n    const perPage = apiService.perPage;\r\n\r\n    if (!listFilms || !listFilms.length) {\r\n      addContent.addLibraryList(listFilms);\r\n      return;\r\n    }\r\n\r\n    const resultArray = listFilms.map(elem => Number(elem));\r\n    const promisesIdFilms = resultArray.map(elem =>\r\n      apiService.fetchDetalsFilm(elem, pagePagination),\r\n    );\r\n\r\n    const resultArrayDetalsFilm = await Promise.all(promisesIdFilms);\r\n    const numFirst = pagePagination * perPage - perPage;\r\n    const numLast = pagePagination * perPage;\r\n    addContent.addLibraryList(resultArrayDetalsFilm.slice(numFirst, numLast));\r\n    pagination.addPaginationList(resultArrayDetalsFilm.length, pagePagination);\r\n    spinner.spinnerClose();\r\n  },\r\n\r\n  async fetchDataFilm(movieId) {\r\n    try {\r\n      const resAwait = await apiService.fetchDetalsFilm(movieId);\r\n      updateModalValue(resAwait);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n","import './fetch';\r\nimport './refs';\r\nimport refs from './refs';\r\n\r\nfunction updateModalValue(obj) {\r\n  refs.modalTitle.textContent = obj.title;\r\n  refs.modalImg.src = obj.poster_path\r\n    ? `https://image.tmdb.org/t/p/w500/${obj.poster_path}`\r\n    : '/images/default-opt.jpg';\r\n  refs.rate.textContent = obj.vote_average;\r\n  refs.votes.textContent = obj.vote_count;\r\n  refs.popularity.textContent = obj.popularity;\r\n  refs.title.textContent = obj.original_title;\r\n  refs.genre.textContent = genresSep(obj);\r\n  refs.descr.textContent = obj.overview;\r\n  // добавляем id фильмов на кнопки для реализации My Library\r\n  refs.addToWatchedBtn.dataset.id = obj.id;\r\n  refs.addToQueueBtn.dataset.id = obj.id;\r\n  genresSep(obj);\r\n  alignHeight();\r\n}\r\n\r\n//  fn для выравнивания элементов списка в модалке при длинном названии фильма\r\nfunction alignHeight() {\r\n  const item = refs.originalTitle;\r\n  const valueHeight = refs.title.offsetHeight;\r\n  if (item.offsetHeight !== valueHeight) {\r\n    item.style = `margin-bottom: ${valueHeight - 15}px`;\r\n  }\r\n}\r\n\r\nfunction genresSep(object) {\r\n  const genresArray = object.genres;\r\n  genresArray.map(({ name }) => (refs.genre.textContent += `${name} `));\r\n}\r\n\r\nexport default updateModalValue;\r\n","// import './modal.js'\r\nimport refs from './refs';\r\n\r\nfunction nodeCheckClosing(event) {\r\n    if (event.target.classList.value !== 'backdrop') {\r\n      return\r\n    }\r\n  closingModal();\r\n}\r\n\r\nrefs.closeBtn.addEventListener('click', closingModal);\r\nrefs.backdropModalRef.addEventListener('click', nodeCheckClosing);\r\nrefs.filmListRef.addEventListener('click', openingModal);\r\n\r\nfunction openingModal() {\r\n  if (event.target.classList.contains('films__list')){return;}\r\n  const id = event.path.find(elem => elem.classList.value === 'film item')\r\n    .dataset.movieid;\r\n\r\n  const all = JSON.parse(localStorage.getItem('watched') || '[]');\r\n  if (all.includes(id)) {\r\n    refs.addToWatchedBtn.innerHTML = 'REMOVE FROM WATCHED';\r\n  }\r\n\r\n  const all2 = JSON.parse(localStorage.getItem('queue') || '[]');\r\n  if (all2.includes(id)) {\r\n    refs.addToQueueBtn.innerHTML = 'REMOVE FROM QUEUE';\r\n  }\r\n\r\n  refs.backdropModalRef.classList.remove('visually-hidden');\r\n  refs.modalRef.classList.remove('visually-hidden');\r\n  refs.bodyEl.classList.add('modal-is-open');\r\n  // console.log('cliked');\r\n  window.addEventListener('keydown', onEscPress);\r\n\r\n}\r\n\r\nfunction closingModal() {\r\n  refs.backdropModalRef.classList.add('visually-hidden');\r\n  refs.modalRef.classList.add('visually-hidden');\r\n  window.removeEventListener('keydown', onEscPress);\r\n  refs.bodyEl.classList.remove('modal-is-open');\r\n  setTimeout(clearData(),100)\r\n}\r\n\r\nfunction clearData () {\r\n  refs.modalImg.src = '';\r\n  refs.modalTitle.textContent = '';\r\n  refs.rate.textContent = '';\r\n  refs.votes.textContent = '';\r\n  refs.popularity.textContent = '';\r\n  refs.title.textContent = '';\r\n  refs.genre.textContent = '';\r\n  refs.descr.textContent = '';\r\n  refs.addToWatchedBtn.innerHTML = 'ADD TO WATCHED';\r\n  refs.addToQueueBtn.innerHTML = 'ADD TO QUEUE';\r\n\r\n}\r\n\r\nfunction onEscPress(event) {\r\n  if (event.code === 'Escape') closingModal();\r\n}\r\n\r\nexport default openingModal;\r\n","import {Server} from './Firebase';\r\nimport refs from './refs';\r\n// import { Server } from 'core-js/fn/array';\r\n\r\nrefs.addToWatchedBtn.addEventListener('click', handleWatched);\r\nrefs.addToQueueBtn.addEventListener('click', handleQueue);\r\n// refs.watchedBtnLibrary.addEventListener('click', Btn);\r\n\r\n// function Btn(event) {\r\n//   console.dir(event.target);\r\n//   if (event.target.className === 'button button--library') {\r\n//     console.log('Click!');\r\n//   }; \r\n// }\r\n\r\nfunction handleWatched(event) {\r\n  event.preventDefault();\r\n  refs.addToWatchedBtn.innerHTML = 'REMOVE FROM WATCHED';\r\n  const id = event.target.dataset.id;\r\n  const all = JSON.parse(localStorage.getItem('watched') || '[]');\r\n  if (!all.includes(id)) { all.push(id) }\r\n  else {\r\n    all.splice(all.indexOf(id), 1);\r\n    refs.addToWatchedBtn.innerHTML = 'ADD TO WATCHED';\r\n  };\r\n\r\n  // Server.addToWatched(all);\r\n  localStorage.setItem('watched', JSON.stringify(all));\r\n}\r\n\r\nfunction handleQueue(event) {\r\n  event.preventDefault();\r\n  refs.addToQueueBtn.innerHTML = 'REMOVE FROM QUEUE';\r\n    const id = event.target.dataset.id; \r\n    const all = JSON.parse(localStorage.getItem('queue') || '[]');    \r\n  if (!all.includes(id)) {\r\n    all.push(id);\r\n  } else {\r\n    all.splice(all.indexOf(id), 1);\r\n    refs.addToQueueBtn.innerHTML = 'ADD TO QUEUE';\r\n  };     \r\n    // Server.addToQueue(all);\r\n     localStorage.setItem('queue', JSON.stringify(all));\r\n}","import pagination from './pagination.js';\r\nimport fnFetch from './fetch.js';\r\nimport apiService from './apiService.js';\r\nimport { HOME, SEARCH, WATCHED, QUEUE } from './request.js';\r\nimport { load, save, remove } from './storage';\r\nimport showErrorNote from './error-notification';\r\nimport refs from './refs';\r\n\r\nexport default {\r\n  onSubmitSearchForm(event) {\r\n    event.preventDefault();\r\n    const searchQuery = event.target.elements.query.value.trim();\r\n    console.log('search', searchQuery);\r\n    if (!searchQuery) {\r\n      showErrorNote(refs.errorNoteRef);\r\n      refs.filmListRef.innerHTML = '';\r\n      refs.paginationList.innerHTML = '';\r\n      return;\r\n    }\r\n    apiService.searchQuery = searchQuery;\r\n    save('currentRequest', SEARCH);\r\n    fnFetch.fetchData();\r\n  },\r\n\r\n  onClickPaginate(event) {\r\n    if (event.target.nodeName !== 'LI' || event.target.textContent === '...') {\r\n      return;\r\n    }\r\n    const pagePagination = pagination.getActivePageForFetch(event.target);\r\n    const fetchSettings = pagination.getSettingForFetch(pagePagination);\r\n    const currentRequest = load('currentRequest');\r\n    switch (currentRequest) {\r\n      case HOME:\r\n        fnFetch.fetchData(fetchSettings, pagePagination);\r\n        break;\r\n      case SEARCH:\r\n        fnFetch.fetchData(fetchSettings, pagePagination);\r\n        break;\r\n      case WATCHED:\r\n        fnFetch.fetchDataLibrary(pagePagination, load('watched'));\r\n        break;\r\n      case QUEUE:\r\n        fnFetch.fetchDataLibrary(pagePagination, load('queue'));\r\n        break;\r\n      default:\r\n        console.log(Error('Не найден тип текущего запроса'));\r\n    }\r\n  },\r\n  onClickFilm(event) {\r\n\r\n  if (event.target.classList.contains('films__list')){return;}\r\n    const movieId = event.path.find(\r\n      elem => elem.classList.value === 'film item',\r\n    ).dataset.movieid;\r\n    event.preventDefault();\r\n    fnFetch.fetchDataFilm(movieId);\r\n  },\r\n\r\n  onClickLibrary() {\r\n    const req = refs.libraryList.querySelector('.is-active').dataset.request;\r\n    save('currentRequest', req);\r\n    fnFetch.fetchDataLibrary(1, load(req));\r\n  },\r\n  onClickWatched() {\r\n    save('currentRequest', WATCHED);\r\n    fnFetch.fetchDataLibrary(1, load('watched'));\r\n  },\r\n\r\n  onClickQueue() {\r\n    save('currentRequest', QUEUE);\r\n    fnFetch.fetchDataLibrary(1, load('queue'));\r\n  },\r\n  onClickLogoHome() {\r\n    save('currentRequest', HOME);\r\n    fnFetch.fetchData();\r\n  },\r\n};\r\n","import refs from './refs';\r\n\r\nexport function onSiteNavButtonsClick(event) {\r\n    const element = event.target;\r\n\r\n    if (element === refs.libraryHeaderBtn) {\r\n        refs.headerContainer.classList.remove('header-container--home');\r\n        refs.headerContainer.classList.add('header-container--library');\r\n        refs.headerNavContainer.classList.add('header-nav-container--library');\r\n        refs.libraryList.style.display = \"flex\";\r\n        refs.searchForm.style.display = \"none\";\r\n        refs.libraryHeaderBtn.classList.add('is-active');\r\n        refs.homeHeaderBtn.classList.remove('is-active');\r\n        \r\n    } else if (element === refs.homeHeaderBtn || element.parentElement === refs.logoNav) {\r\n        refs.headerContainer.classList.remove('header-container--library');\r\n        refs.headerContainer.classList.add('header-container--home');\r\n        refs.headerNavContainer.classList.remove('header-nav-container--library');\r\n        refs.libraryList.style.display = \"none\";\r\n        refs.searchForm.style.display = \"block\";\r\n        refs.homeHeaderBtn.classList.add('is-active');\r\n        refs.libraryHeaderBtn.classList.remove('is-active');\r\n        refs.searchForm.reset();\r\n\r\n    }\r\n    \r\n}\r\n\r\nrefs.siteNavButtons.addEventListener('click', onSiteNavButtonsClick);\r\nrefs.logoNav.addEventListener('click', onSiteNavButtonsClick);","import refs from './refs';\r\n\r\n\r\n\r\n\r\nexport default function onLibraryListClick(event) {\r\n    if (event.target.nodeName === 'BUTTON' && event.target.classList.contains('is-active')) {\r\n        return;\r\n    } else if (event.target.nodeName === 'BUTTON') {\r\n        refs.watchedBtn.classList.toggle('is-active');\r\n        refs.queueBtn.classList.toggle('is-active');\r\n    }\r\n}\r\n\r\n\r\nrefs.libraryList.addEventListener('click', onLibraryListClick);\r\n\r\n\r\n","import './sass/main.scss';\r\nimport refs from './js/refs';\r\nimport './js/up-btn';\r\nimport './js/header-position';\r\nimport './js/storage';\r\nimport './js/themes';\r\nimport './js/theme-change';\r\nimport './js/footermodal.js';\r\n\r\nimport './js/modal';\r\nimport './js/modal-close';\r\nimport './js/movieLibrary';\r\nimport '../node_modules/spinkit/spinkit.css';\r\n\r\n\r\n\r\nimport fnFetch from './js/fetch.js';\r\nimport fnHendler from './js/fnHendler.js';\r\n\r\nimport { HOME } from './js/request.js';\r\nimport { save } from './js/storage';\r\n// import modal from './js/modal';\r\n\r\nimport './js/change-header-theme';\r\nimport './js/library-list-hendler';\r\n\r\n\r\nsave('currentRequest', HOME);\r\n\r\nfnFetch.fetchData();\r\n\r\nrefs.searchForm.addEventListener('submit', fnHendler.onSubmitSearchForm);\r\nrefs.paginationBox.addEventListener('click', fnHendler.onClickPaginate);\r\nrefs.filmListRef.addEventListener('click', fnHendler.onClickFilm);\r\nrefs.libraryHeaderBtn.addEventListener('click', fnHendler.onClickLibrary);\r\nrefs.watchedBtn.addEventListener('click', fnHendler.onClickWatched);\r\nrefs.queueBtn.addEventListener('click', fnHendler.onClickQueue);\r\nrefs.logoNav.addEventListener('click', fnHendler.onClickLogoHome);\r\nrefs.homeHeaderBtn.addEventListener('click', fnHendler.onClickLogoHome);\r\n","const headerFixed = document.querySelector(\".header\");\r\nconst headerHeight = 230;\r\nlet howScroll = 60;\r\nlet lastScrollTop = 0;\r\nwindow.addEventListener(\"scroll\", function () {\r\n  let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n  if ((scrollTop > lastScrollTop) && (scrollTop > howScroll)) {\r\n    headerFixed.style.top = -headerHeight + 'px';\r\n  } else {\r\n    headerFixed.style.top = 0;\r\n    headerFixed.classList.add(\"js-modify-header\");\r\n  }\r\n  if (window.pageYOffset === 0) {\r\n    headerFixed.classList.remove(\"js-modify-header\");\r\n  }\r\n  lastScrollTop = scrollTop;\r\n}, { passive: true });\r\n","    function trackScroll() {\r\n        const scrolled = window.pageYOffset;\r\n        const coords = document.documentElement.clientHeight;\r\n        if (scrolled > coords) {\r\n            goTopBtn.classList.add('back_to_top-show');\r\n        }\r\n        if (scrolled < coords) {\r\n            goTopBtn.classList.remove('back_to_top-show');\r\n        }\r\n    }\r\n    function backToTop() {\r\n        if (window.pageYOffset > 0) {\r\n            window.scrollBy(0, -80);\r\n            setTimeout(backToTop, 0);\r\n        }\r\n    }\r\n    const goTopBtn = document.querySelector('.back_to_top');\r\n    window.addEventListener('scroll', trackScroll);\r\n    goTopBtn.addEventListener('click', backToTop);","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isActive\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":21},\"end\":{\"line\":7,\"column\":28}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                         <li class=\\\"pagination__item active\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"elem\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                         <li class=\\\"pagination__item \\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"elem\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"               <li class=\\\"pagination__item prev\\\"></li>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":15},\"end\":{\"line\":8,\"column\":24}}})) != null ? stack1 : \"\")\n    + \"               <li class=\\\"pagination__item next\\\"></li>\\r\\n\\r\\n\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}