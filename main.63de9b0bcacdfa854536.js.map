{"version":3,"sources":["webpack:///./templates/header-lib-template.hbs","webpack:///./templates/film-card.hbs","webpack:///./js/refs.js","webpack:///./js/storage.js","webpack:///./js/themes.js","webpack:///./js/footermodal.js","webpack:///./js/theme-change.js","webpack:///./js/pagination.js","webpack:///./js/request.js","webpack:///./js/apiService.js","webpack:///./js/addContent.js","webpack:///./js/fetch.js","webpack:///./js/modal.js","webpack:///./js/modal-close.js","webpack:///./js/movieLibrary.js","webpack:///./js/header-render.js","webpack:///./index.js","webpack:///./js/error-notification.js","webpack:///./js/header-position.js","webpack:///./templates/header-home-template.hbs","webpack:///./js/up-btn.js","webpack:///./templates/pagination.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","refs","headerRef","document","querySelector","paginationBox","paginationList","filmListRef","checkboxEl","bodyEl","modalRef","backdropModalRef","closeBtn","modalImg","modalTitle","votes","rate","popularity","title","genre","descr","addToWatchedBtn","addToQueueBtn","pageLibraryRef","divLightbox","btnClose","modalClose","openModal","load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","LIGHT","DARK","onModalCloseDiv","event","classList","remove","addEventListener","savedTheme","onCheckboxChecked","add","checked","onCheckboxNotChecked","currentTarget","target","nodeName","numberOfPagesPagination","totalPages","HOME","SEARCH","WATCHED","QUEUE","ulrApi","query","page","keyApi","language","currentRequest","fetchReturn","url","opts","fetch","then","response","json","catch","fetchData","currentPage","this","urlApi","log","Error","headers","Accept","fetchDetalsFilm","movieId","body","clientWidth","pathForImg","listFilms","detalsFilms","resultForMarkup","map","elem","genresFilm","find","item","id","genres","length","slice","name","poster_path","release_date","innerHTML","insertAdjacentHTML","filmCard","totalHits","activePage","arrayPagination","apiService","perPage","Math","ceil","numberOfPages","centerOfPages","Array","from","v","k","isActive","createArrayPaginationMobile","createArrayPagination","eventTarget","textContent","contains","itemStart","floor","currentNumStart","currentNumEnd","numStart","numEnd","fetchSettings","pagePagination","resultArray","set","resAwait","totalResults","total_results","results","promisesIdFilms","Promise","all","resultArrayDetalsFilm","addContent","pagination","Number","numFirst","numLast","updateModalValue","genresSep","object","obj","src","vote_average","vote_count","original_title","overview","dataset","openingModal","path","movieid","includes","window","onEscPress","closingModal","removeEventListener","code","preventDefault","splice","indexOf","push","logoNavRef","siteNavButtonsRef","buttonHomeRef","createHeaderHomeMarkup","setHeaderMarkup","headerHomeTemplate","fnFetch","handlerSiteNavButtonsClick","watchedButtonRef","libraryButtonRef","element","parentElement","headerLibraryTemplate","searchFormRef","errorNoteRef","searchQuery","elements","style","display","setTimeout","headerFixed","lastScrollTop","scrollTop","pageYOffset","documentElement","top","passive","goTopBtn","scrolled","coords","clientHeight","backToTop","scrollBy","lambda"],"mappings":"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","file":"main.63de9b0bcacdfa854536.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"\\r\\n    <div class=\\\"header-nav-container header-nav-container--library\\\">\\r\\n        <div class=\\\"logo-container\\\">\\r\\n            <span class=\\\"header__logo\\\"></span>\\r\\n            <h1 class=\\\"header__title\\\">\\r\\n                Filmoteka\\r\\n            </h1>\\r\\n        </div>\\r\\n        <nav>\\r\\n            <ul class=\\\"site-nav__list\\\">\\r\\n                <li class=\\\"site-nav__item\\\">\\r\\n                    <button class=\\\"site-nav__button js-home js-library-home\\\" data-request=\\\"home\\\">Home</button>\\r\\n                </li>\\r\\n                <li class=\\\"site-nav__item\\\">\\r\\n                    <button class=\\\"site-nav__button is-active js-library\\\" data-request=\\\"library\\\">My library</button>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </nav>\\r\\n    </div>\\r\\n\\r\\n    <ul class=\\\"library__list\\\">\\r\\n        <li class=\\\"library__item\\\">\\r\\n            <button class=\\\"button button--library\\\" data-request=\\\"watched\\\">Watched</button>\\r\\n        </li>\\r\\n        <li class=\\\"library__item\\\">\\r\\n            <button class=\\\"button button--library is-active\\\" data-request=\\\"queue\\\">Queue</button>\\r\\n        </li>\\r\\n    </ul>\\r\\n\\r\\n    <div class=\\\"theme-switch__control\\\">\\r\\n        <input class=\\\"theme-switch__toggle\\\" type=\\\"checkbox\\\" name=\\\"theme\\\" id=\\\"theme-switch-toggle\\\"\\r\\n            aria-label=\\\"Change theme\\\" />\\r\\n        <label aria-hidden=\\\"true\\\" class=\\\"theme-switch__track\\\" for=\\\"theme-switch-toggle\\\">\\r\\n        </label>\\r\\n        <div aria-hidden=\\\"true\\\" class=\\\"theme-switch__marker\\\"></div>\\r\\n    </div>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"film item\\\" data-movieId=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":43},\"end\":{\"line\":2,\"column\":49}}}) : helper)))\n    + \">\\r\\n          <a href=\\\"\\\" class=\\\"film__link link\\\">\\r\\n            <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":22},\"end\":{\"line\":4,\"column\":37}}}) : helper)))\n    + \"\\\" class=\\\"film__img\\\" alt=\\\"\\\">\\r\\n            <div class=\\\"film__content\\\"}>\\r\\n              <h3 class=\\\"film__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":38},\"end\":{\"line\":6,\"column\":47}}}) : helper)))\n    + \"</h3>\\r\\n              <div class=\\\"film__info\\\">\\r\\n                <ul class=\\\"film__genres\\\" >\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":18},\"end\":{\"line\":14,\"column\":26}}})) != null ? stack1 : \"\")\n    + \"|&ensp;\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":33},\"end\":{\"line\":14,\"column\":49}}}) : helper)))\n    + \"&ensp;</ul>\\r\\n                  <span class=\\\"film__average\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":46},\"end\":{\"line\":15,\"column\":62}}}) : helper)))\n    + \"</span></div>\\r\\n            </div>\\r\\n          </a>\\r\\n        </li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,\"last\")),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":18},\"end\":{\"line\":13,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"                 \";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <li class=\\\"film__list__genre\\\"> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":63},\"end\":{\"line\":10,\"column\":71}}}) : helper)))\n    + \"&thinsp;</li>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                <li class=\\\"film__list__genre\\\"> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":63},\"end\":{\"line\":12,\"column\":71}}}) : helper)))\n    + \",&thinsp;</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":8},\"end\":{\"line\":19,\"column\":17}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n    headerRef: document.querySelector('.header-container'),\r\n    paginationBox: document.querySelector('.pagination'),\r\n    paginationList: document.querySelector('.pagination__list'),\r\n    filmListRef: document.querySelector('.films__list'),\r\n    checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n    bodyEl: document.querySelector('body'),\r\n    modalRef: document.querySelector('.modal'),\r\n    backdropModalRef: document.querySelector('.backdrop'),\r\n    closeBtn: document.querySelector('[data-action=close]'),\r\n\r\n    modalImg: document.querySelector('.modal__image'),\r\n    modalTitle: document.querySelector('.modal__title'),\r\n    votes: document.querySelector('[data-attribute=\"votes\"]'),\r\n    rate: document.querySelector('.film-info__rate'),\r\n    popularity: document.querySelector('[data-attribute=\"popularity\"]'),\r\n    title: document.querySelector('[data-attribute=\"title\"]'),\r\n    genre: document.querySelector('[data-attribute=\"genre\"]'),\r\n    descr: document.querySelector('.description-text'),\r\n\r\n    addToWatchedBtn: document.querySelector('.modal__btn--watched'),\r\n    addToQueueBtn: document.querySelector('.modal__btn--queue'),\r\n\r\n\r\n//  =======\r\n\r\n  // pageNavRef: () => document.querySelector('.site-nav__list'),\r\n  // pageHomeRef: () => document.querySelector('[data-request=\"home\"]'),\r\n  pageLibraryRef: () => document.querySelector('[data-request=\"library\"]'),\r\n  // pageWatchedRef: () => document.querySelector('[data-request=\"watched\"]'),\r\n  // pageQueueRef: () => document.querySelector('[data-request=\"queue\"]'),\r\n\r\n  //=======\r\n    divLightbox: document.querySelector('.lightbox'),\r\n    btnClose: document.querySelector('.lightbox__button'),\r\n    modalClose: document.querySelector('.lightbox__body'),\r\n    openModal: document.querySelector('.js-footer__text'),\r\n};\r\n\r\nexport default refs;","// Theme storage\r\nconst load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nconst remove = key => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (err) {\r\n    console.error('Remove state error: ', err);\r\n  }\r\n};\r\nexport { load, save, remove };","const Themes = {\r\n  LIGHT: 'light-theme',\r\n  DARK: 'dark-theme',\r\n};\r\n\r\nconst { LIGHT, DARK } = Themes;\r\n\r\nexport { LIGHT, DARK };","import refs from './refs';\r\n\r\nrefs.openModal.addEventListener('click', onOpenModal);\r\nrefs.btnClose.addEventListener('click', onModalClose);\r\nrefs.modalClose.addEventListener('click', onModalCloseDiv);\r\ndocument.addEventListener('keydown', onModalCloseEsc);\r\n\r\n\r\nfunction onModalCloseDiv(event) {\r\n    refs.divLightbox.classList.remove('is-open');\r\n    refs.bodyEl.classList.remove('is-open');\r\n}\r\n\r\nfunction onModalClose(event) {\r\n    if (event.target.nodeName === 'BUTTON') {\r\n        onModalCloseDiv();\r\n    }\r\n}\r\n\r\nfunction onModalCloseEsc(event) {\r\n    if (event.key === 'Escape') {\r\n        onModalCloseDiv();\r\n    }\r\n}\r\n\r\nfunction onOpenModal(event) {\r\n    refs.divLightbox.classList.add('is-open');\r\n    refs.bodyEl.classList.add('is-open');\r\n}","// import './refs';\r\nimport { LIGHT, DARK } from './themes';\r\nimport { load, save, remove } from './storage';\r\n\r\n// const refs = {\r\n//   checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n//   bodyEl: document.querySelector('body'),\r\n// }\r\n\r\n// function onCheckboxChange() {\r\n//   event.currentTarget.checked ? onCheckboxChecked() : onCheckboxNotChecked();\r\n// }\r\n\r\n// function onCheckboxChecked() {\r\n//   refs.bodyEl.classList.add(DARK);\r\n//   refs.bodyEl.classList.remove(LIGHT);\r\n//   save('Theme', DARK);\r\n//   refs.checkboxEl.checked = true;\r\n// }\r\n\r\n// function onCheckboxNotChecked() {\r\n//   refs.bodyEl.classList.add(LIGHT);\r\n//   refs.bodyEl.classList.remove(DARK);\r\n//   save('Theme', LIGHT);\r\n//   refs.checkboxEl.checked = false;\r\n// }\r\n\r\n// function currentTheme() {\r\n//   const savedTheme = load('Theme');\r\n//   if (savedTheme === LIGHT) {\r\n//     onCheckboxNotChecked();\r\n//     return;\r\n//   }\r\n//   if (savedTheme === DARK) {\r\n//     onCheckboxChecked();\r\n//     return;\r\n//   }\r\n// }\r\n\r\n// currentTheme();\r\n\r\n// refs.checkboxEl.addEventListener('change', onCheckboxChange);\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\nconst refs = {\r\n  checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n  bodyEl: document.querySelector('body'),\r\n}\r\n\r\nfunction onCheckboxChange() {\r\n  event.currentTarget.checked ? onCheckboxChecked() : onCheckboxNotChecked();\r\n}\r\n\r\nfunction onCheckboxChecked() {\r\n  refs.bodyEl.classList.add(DARK);\r\n  refs.bodyEl.classList.remove(LIGHT);\r\n  save('Theme', DARK);\r\n  refs.checkboxEl.checked = true;\r\n}\r\n\r\nfunction onCheckboxNotChecked() {\r\n  refs.bodyEl.classList.add(LIGHT);\r\n  refs.bodyEl.classList.remove(DARK);\r\n  save('Theme', LIGHT);\r\n  refs.checkboxEl.checked = false;\r\n}\r\n\r\nfunction currentTheme() {\r\n  const savedTheme = load('Theme');\r\n  if (savedTheme === LIGHT) {\r\n    onCheckboxNotChecked();\r\n    return;\r\n  }\r\n  if (savedTheme === DARK) {\r\n    onCheckboxChecked();\r\n    return;\r\n  }\r\n}\r\ncurrentTheme();\r\nrefs.checkboxEl.addEventListener('change', onCheckboxChange);\r\n});","import paginationList from '../templates/pagination.hbs';\r\nimport apiService from './apiService.js';\r\nimport refs from './refs';\r\nlet numberOfPagesPagination;\r\nlet totalPages;\r\nconst FETCH = 20;\r\nconst screenWidth = 580;\r\n\r\nfunction createArrayPaginationMobile(numberOfPages, activePage, totalPages) {\r\n  let arrayOfPages;\r\n  const centerOfPages = Math.ceil(numberOfPages / 2);\r\n  if (numberOfPages >= totalPages || activePage <= centerOfPages) {\r\n    arrayOfPages = Array.from({ length: numberOfPages }, (v, k) => {\r\n      return k + 1;\r\n    });\r\n  } else {\r\n    arrayOfPages = Array.from(\r\n      { length: numberOfPages },\r\n      (v, k) => activePage - centerOfPages + k + 1,\r\n    );\r\n  }\r\n\r\n  return arrayOfPages.map(elem =>\r\n    elem === activePage ? { elem, isActive: true } : { elem, isActive: false },\r\n  );\r\n}\r\nfunction createArrayPagination(numberOfPages, activePage, totalPages) {\r\n  let arrayOfPages;\r\n  const centerOfPages = Math.ceil(numberOfPages / 2);\r\n  if (numberOfPages >= totalPages) {\r\n    arrayOfPages = Array.from({ length: numberOfPages }, (v, k) => {\r\n      return k + 1;\r\n    });\r\n  } else if (activePage <= centerOfPages) {\r\n    arrayOfPages = [\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return k + 1;\r\n      }),\r\n      '...',\r\n      totalPages,\r\n    ];\r\n  } else if (activePage === totalPages) {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return activePage - numberOfPages + 3 + k;\r\n      }),\r\n    ];\r\n  } else {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 5 }, (v, k) => {\r\n        return activePage - centerOfPages + k + 3;\r\n      }),\r\n      '...',\r\n      totalPages,\r\n    ];\r\n  }\r\n\r\n  return arrayOfPages.map(elem =>\r\n    elem === activePage ? { elem, isActive: true } : { elem, isActive: false },\r\n  );\r\n}\r\n\r\nexport default {\r\n  addPaginationList(totalHits, activePage) {\r\n    totalPages =\r\n      totalHits / apiService.perPage <= 20\r\n        ? Math.ceil(totalHits / apiService.perPage)\r\n        : 20;\r\n\r\n    if (!totalHits) return;\r\n    let arrayPagination;\r\n    // debugger;\r\n\r\n    if (totalPages <= 5) {\r\n      numberOfPagesPagination = totalPages;\r\n    } else {\r\n      if (document.body.clientWidth < 768) {\r\n        numberOfPagesPagination = 5;\r\n      } else {\r\n        numberOfPagesPagination = 9;\r\n      }\r\n    }\r\n    if (document.body.clientWidth < screenWidth) {\r\n      arrayPagination = createArrayPaginationMobile(\r\n        totalPages <= 5 ? totalPages : numberOfPagesPagination,\r\n        activePage,\r\n        totalPages,\r\n      );\r\n    } else {\r\n      arrayPagination = createArrayPagination(\r\n        totalPages <= 9 ? totalPages : numberOfPagesPagination,\r\n        activePage,\r\n        totalPages,\r\n      );\r\n    }\r\n\r\n    refs.paginationBox.classList.remove('is-hidden');\r\n    refs.paginationList.innerHTML = '';\r\n    refs.paginationList.insertAdjacentHTML(\r\n      'beforeend',\r\n      paginationList(arrayPagination),\r\n    );\r\n  },\r\n\r\n  getActivePageForFetch(eventTarget) {\r\n    let activePage = +refs.paginationBox.querySelector('.active').textContent;\r\n\r\n    if (eventTarget.classList.contains('prev')) {\r\n      return activePage > 1 ? activePage - 1 : 1;\r\n    }\r\n    if (eventTarget.classList.contains('next')) {\r\n      return activePage < totalPages ? activePage + 1 : totalPages;\r\n    }\r\n    return +eventTarget.textContent;\r\n  },\r\n\r\n  getSettingForFetch(activePage) {\r\n    let resultArray = [];\r\n    const perPage = apiService.perPage;\r\n\r\n    let itemEnd = activePage * perPage;\r\n    let itemStart = itemEnd - perPage + 1;\r\n\r\n    const currentPage = Math.floor(itemStart / FETCH) + 1;\r\n    const currentNumStart = (itemStart % FETCH) - 1;\r\n    let currentNumEnd = currentNumStart + perPage;\r\n\r\n    if (currentNumEnd < FETCH) {\r\n      resultArray = [\r\n        { page: currentPage, numStart: currentNumStart, numEnd: currentNumEnd },\r\n      ];\r\n      return resultArray;\r\n    }\r\n    //одна страница\r\n    else {\r\n      resultArray = [\r\n        { page: currentPage, numStart: currentNumStart, numEnd: FETCH },\r\n      ];\r\n    }\r\n\r\n    const nextPage = currentPage + 1;\r\n    const nextNumStart = 0;\r\n    const nextNumEnd = nextNumStart + perPage - (FETCH - currentNumStart);\r\n    resultArray = [\r\n      ...resultArray,\r\n      { page: nextPage, numStart: nextNumStart, numEnd: nextNumEnd },\r\n    ];\r\n    return resultArray;\r\n  },\r\n\r\n  getActivePage() {\r\n    return +refs.paginationBox.querySelector('.active').textContent;\r\n  },\r\n};\r\n","const requstName = {\r\n  HOME: 'home',\r\n  SEARCH: 'search',\r\n  WATCHED: 'watched',\r\n  QUEUE: 'queue',\r\n};\r\nconst { HOME, SEARCH, WATCHED, QUEUE } = requstName;\r\n\r\nexport { HOME, SEARCH, WATCHED, QUEUE };\r\n","import { load, save, remove } from './storage';\r\nimport { HOME, SEARCH } from './request.js';\r\n\r\nexport default {\r\n  ulrApi: '',\r\n  query: '',\r\n  page: 1,\r\n  keyApi: '0e6eebd27dfd68a7c4ec96f04756cc6c',\r\n  language: 'en-US',\r\n  currentRequest: '',\r\n\r\n  fetchReturn(url, opts) {\r\n    return fetch(url, opts)\r\n      .then(response => response.json())\r\n      .then(data => data)\r\n      .catch(console.error);\r\n  },\r\n\r\n  fetchData({ page: currentPage = 1 }) {\r\n    this.page = currentPage;\r\n\r\n    this.currentRequest = load('currentRequest');\r\n\r\n    switch (this.currentRequest) {\r\n      case HOME:\r\n        this.urlApi = `https://api.themoviedb.org/3/trending/movie/week?api_key=${this.keyApi}&page=${this.page}&language=${this.language}`;\r\n        break;\r\n\r\n      case SEARCH:\r\n        this.urlApi = `https://api.themoviedb.org/3/search/movie?api_key=${this.keyApi}&page=${this.page}&query=${this.query}&language=${this.language}`;\r\n        break;\r\n\r\n      default:\r\n        console.log(Error('Не найден тип текущего запроса'));\r\n    }\r\n\r\n    const options = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    };\r\n\r\n    return this.fetchReturn(this.urlApi, options);\r\n  },\r\n\r\n  fetchDetalsFilm(movieId) {\r\n    const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${this.keyApi}&language=${this.language}`;\r\n\r\n    const options = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    };\r\n\r\n    return this.fetchReturn(urlApi, options);\r\n  },\r\n\r\n  set searchQuery(value) {\r\n    this.query = value;\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  get perPage() {\r\n    if (document.body.clientWidth < 768) {\r\n      return 4;\r\n    }\r\n    if (document.body.clientWidth < 1024) {\r\n      return 8;\r\n    }\r\n    return 9;\r\n  },\r\n  get languageReq() {\r\n    return this.language;\r\n  },\r\n  set languageReq(value) {\r\n    this.language = value;\r\n  },\r\n};\r\n","import filmCard from '../templates/film-card.hbs';\r\nimport apiService from './apiService';\r\nimport refs from './refs';\r\n// import keyWords from './keyWords';\r\n\r\nconst pathForImg = 'https://image.tmdb.org/t/p/w342/';\r\nconst imgDefault = './images/default.jpg';\r\n\r\nexport default {\r\n  additemList(listFilms, detalsFilms) {\r\n    const resultForMarkup = listFilms.map(elem => {\r\n      const genresFilm = detalsFilms.find(item => item.id === elem.id).genres;\r\n\r\n      const genres =\r\n        genresFilm.length > 2\r\n          ? [...genresFilm.slice(0, 2), { id: 999, name: 'Other' }]\r\n          : genresFilm;\r\n\r\n      return {\r\n        ...elem,\r\n        poster_path: elem.poster_path\r\n          ? pathForImg + elem.poster_path\r\n          : imgDefault,\r\n        release_date: elem.release_date ? elem.release_date.slice(0, 4) : '',\r\n        genres,\r\n      };\r\n    });\r\n\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.filmListRef.insertAdjacentHTML('beforeend', filmCard(resultForMarkup));\r\n  },\r\n\r\n  addLibraryList(listFilms) {\r\n    if (!listFilms) {\r\n      refs.filmListRef.innerHTML = '';\r\n      refs.paginationList.innerHTML = '';\r\n      return;\r\n    }\r\n    const resultForMarkup = listFilms.map(elem => {\r\n      const genres =\r\n        elem.genres.length > 2\r\n          ? [...elem.genres.slice(0, 2), { id: 999, name: 'Other' }]\r\n          : elem.genres;\r\n\r\n      return {\r\n        ...elem,\r\n        poster_path: elem.poster_path\r\n          ? pathForImg + elem.poster_path\r\n          : imgDefault,\r\n        release_date: elem.release_date ? elem.release_date.slice(0, 4) : '',\r\n        genres,\r\n      };\r\n    });\r\n\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.filmListRef.insertAdjacentHTML('beforeend', filmCard(resultForMarkup));\r\n  },\r\n};\r\n","import addContent from './addContent';\r\nimport apiService from './apiService.js';\r\nimport pagination from './pagination.js';\r\nimport updateModalValue from './modal';\r\n\r\nexport default {\r\n  async fetchData(\r\n    fetchSettings = [{ page: 1, numStart: 0, numEnd: apiService.perPage }],\r\n    pagePagination = 1,\r\n  ) {\r\n    try {\r\n      let resultArray = [];\r\n      let totalResults;\r\n\r\n      for (let set of fetchSettings) {\r\n        const resAwait = await apiService.fetchData(set);\r\n        totalResults = resAwait.total_results;\r\n        resultArray = [\r\n          ...resultArray,\r\n          ...resAwait.results.slice(set.numStart, set.numEnd),\r\n        ];\r\n      }\r\n      const promisesIdFilms = resultArray.map(elem =>\r\n        apiService.fetchDetalsFilm(elem.id),\r\n      );\r\n      const resultArrayDetalsFilm = await Promise.all(promisesIdFilms);\r\n\r\n      addContent.additemList(resultArray, resultArrayDetalsFilm);\r\n      pagination.addPaginationList(totalResults, pagePagination);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async fetchDataLibrary(pagePagination = 1, listFilms) {\r\n    const perPage = apiService.perPage;\r\n\r\n    if (!listFilms || !listFilms.length) {\r\n      addContent.addLibraryList(listFilms);\r\n      return;\r\n    }\r\n\r\n    const resultArray = listFilms.map(elem => Number(elem));\r\n    const promisesIdFilms = resultArray.map(elem =>\r\n      apiService.fetchDetalsFilm(elem, pagePagination),\r\n    );\r\n\r\n    const resultArrayDetalsFilm = await Promise.all(promisesIdFilms);\r\n    const numFirst = pagePagination * perPage - perPage;\r\n    const numLast = pagePagination * perPage;\r\n    addContent.addLibraryList(resultArrayDetalsFilm.slice(numFirst, numLast));\r\n    pagination.addPaginationList(resultArrayDetalsFilm.length, pagePagination);\r\n  },\r\n\r\n  async fetchDataFilm(movieId) {\r\n    try {\r\n      const resAwait = await apiService.fetchDetalsFilm(movieId);\r\n      updateModalValue(resAwait);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n","import './fetch';\r\nimport './refs';\r\nimport refs from './refs';\r\nimport pathForModal from './addContent';\r\n\r\n\r\nfunction updateModalValue(obj) {\r\n  refs.modalTitle.textContent = obj.title;\r\n  refs.modalImg.src = obj.poster_path\r\n    ? `https://image.tmdb.org/t/p/w500/${obj.poster_path}`\r\n    : './images/default.jpg';\r\n  refs.rate.textContent = obj.vote_average;\r\n  refs.votes.textContent = obj.vote_count;\r\n  refs.popularity.textContent = obj.popularity;\r\n  refs.title.textContent = obj.original_title;\r\n  refs.genre.textContent = genresSep(obj);\r\n  refs.descr.textContent = obj.overview;\r\n  // добавляем id фильмов на кнопки для реализации My Library\r\n  refs.addToWatchedBtn.dataset.id = obj.id;\r\n  refs.addToQueueBtn.dataset.id = obj.id;\r\n  genresSep(obj);\r\n}\r\n\r\nfunction genresSep(object) {\r\n  let smarray;\r\n  const genresArray = object.genres;\r\n  genresArray.map(({ name }) => (refs.genre.textContent += `${name} `));\r\n}\r\n\r\nexport default updateModalValue;\r\n","// import './modal.js'\r\nimport refs from './refs';\r\n\r\nfunction nodeCheckClosing(event) {\r\n  if (event.target.nodeName !== 'DIV') {\r\n    return;\r\n  }\r\n  closingModal();\r\n}\r\n\r\nrefs.closeBtn.addEventListener('click', closingModal);\r\nrefs.backdropModalRef.addEventListener('click', nodeCheckClosing);\r\nrefs.filmListRef.addEventListener('click', openingModal);\r\n\r\nfunction openingModal() {\r\n  const id = event.path.find(elem => elem.classList.value === 'film item')\r\n    .dataset.movieid;\r\n  \r\n  const all = JSON.parse(localStorage.getItem('watched') || '[]');\r\n  if (all.includes(id)) {\r\n    refs.addToWatchedBtn.innerHTML = 'REMOVE FROM WATCHED';\r\n  }\r\n\r\n  const all2 = JSON.parse(localStorage.getItem('queue') || '[]');\r\n  if (all2.includes(id)) {\r\n    refs.addToQueueBtn.innerHTML = 'REMOVE FROM QUEUE';\r\n  }\r\n\r\n  refs.backdropModalRef.classList.remove('visually-hidden');\r\n  window.addEventListener('keydown', onEscPress);\r\n}\r\n\r\nfunction closingModal() {\r\n  refs.backdropModalRef.classList.add('visually-hidden');\r\n  window.removeEventListener('keydown', onEscPress);\r\n  refs.modalImg.src = '';\r\n  refs.modalTitle.textContent = '';\r\n  refs.rate.textContent = '';\r\n  refs.votes.textContent = '';\r\n  refs.popularity.textContent = '';\r\n  refs.title.textContent = '';\r\n  refs.genre.textContent = '';\r\n  refs.descr.textContent = '';\r\n  refs.addToWatchedBtn.innerHTML = 'ADD TO WATCHED';\r\n  refs.addToQueueBtn.innerHTML = 'ADD TO QUEUE';\r\n}\r\n\r\nfunction onEscPress(event) {\r\n  if (event.code === 'Escape') closingModal();\r\n}\r\n\r\nexport default openingModal;\r\n","import {Server} from './Firebase';\r\nimport refs from './refs';\r\n// import { Server } from 'core-js/fn/array';\r\n\r\nrefs.addToWatchedBtn.addEventListener('click', handleWatched);\r\nrefs.addToQueueBtn.addEventListener('click', handleQueue);\r\n// refs.watchedBtnLibrary.addEventListener('click', Btn);\r\n\r\n// function Btn(event) {\r\n//   console.dir(event.target);\r\n//   if (event.target.className === 'button button--library') {\r\n//     console.log('Click!');\r\n//   }; \r\n// }\r\n\r\nfunction handleWatched(event) {\r\n  event.preventDefault();\r\n  refs.addToWatchedBtn.innerHTML = 'REMOVE FROM WATCHED';\r\n  const id = event.target.dataset.id;\r\n  const all = JSON.parse(localStorage.getItem('watched') || '[]');\r\n  if (!all.includes(id)) { all.push(id) }\r\n  else {\r\n    all.splice(all.indexOf(id), 1);\r\n    refs.addToWatchedBtn.innerHTML = 'ADD TO WATCHED';\r\n  };\r\n\r\n  // Server.addToWatched(all);\r\n  localStorage.setItem('watched', JSON.stringify(all));\r\n}\r\n\r\nfunction handleQueue(event) {\r\n  event.preventDefault();\r\n  refs.addToQueueBtn.innerHTML = 'REMOVE FROM QUEUE';\r\n    const id = event.target.dataset.id; \r\n    const all = JSON.parse(localStorage.getItem('queue') || '[]');    \r\n  if (!all.includes(id)) {\r\n    all.push(id);\r\n  } else {\r\n    all.splice(all.indexOf(id), 1);\r\n    refs.addToQueueBtn.innerHTML = 'ADD TO QUEUE';\r\n  };     \r\n    // Server.addToQueue(all);\r\n     localStorage.setItem('queue', JSON.stringify(all));\r\n}","import headerHomeTemplate from '../templates/header-home-template.hbs';\r\nimport headerLibraryTemplate from '../templates/header-lib-template.hbs';\r\nimport refs from './refs';\r\nimport fnFetch from './fetch.js';\r\nimport { HOME, SEARCH, WATCHED, QUEUE } from './request.js';\r\nimport { load, save, remove } from './storage';\r\n\r\nlet logoNavRef;\r\nlet siteNavButtonsRef;\r\nlet buttonHomeRef;\r\nlet markup;\r\n\r\nfunction createHeaderHomeMarkup() {\r\n  markup = headerHomeTemplate();\r\n\r\n  setHeaderMarkup(markup);\r\n\r\n  if (refs.headerRef.classList.contains('header-container--library')) {\r\n    refs.headerRef.classList.remove('header-container--library');\r\n  }\r\n\r\n  save('currentRequest', 'home');\r\n  fnFetch.fetchData();\r\n}\r\n\r\nfunction createHeaderLibraryrMarkup() {\r\n  const library = 'library';\r\n\r\n  markup = headerLibraryTemplate();\r\n\r\n  setHeaderMarkup(markup, library);\r\n\r\n  refs.headerRef.classList.add('header-container--library');\r\n  save('currentRequest', QUEUE);\r\n  fnFetch.fetchDataLibrary(1, load(QUEUE));\r\n}\r\n\r\nfunction setHeaderMarkup(value, page) {\r\n  refs.headerRef.innerHTML = '';\r\n  refs.headerRef.insertAdjacentHTML('beforeend', value);\r\n\r\n  siteNavButtonsRef = document.querySelector('.site-nav__list');\r\n  logoNavRef = document.querySelector('.logo-container');\r\n  buttonHomeRef = document.querySelector('.js-home');\r\n\r\n  logoNavRef.addEventListener('click', handlerSiteNavButtonsClick);\r\n  siteNavButtonsRef.addEventListener('click', handlerSiteNavButtonsClick);\r\n\r\n  if (page === 'library') {\r\n    const watchedButtonRef = document.querySelector(\r\n      '.button[data-request=\"watched\"]',\r\n    );\r\n    const libraryButtonRef = document.querySelector(\r\n      '.button[data-request=\"queue\"]',\r\n    );\r\n\r\n    watchedButtonRef.addEventListener('click', () => {\r\n      save('currentRequest', WATCHED);\r\n      fnFetch.fetchDataLibrary(1, load(WATCHED));\r\n    });\r\n    libraryButtonRef.addEventListener('click', () => {\r\n      save('currentRequest', QUEUE);\r\n      fnFetch.fetchDataLibrary(1, load(QUEUE));\r\n    });\r\n  }\r\n}\r\n\r\nfunction handlerSiteNavButtonsClick(event) {\r\n  const element = event.target;\r\n\r\n  if (\r\n    element.nodeName === 'BUTTON' &&\r\n    !element.classList.contains('is-active')\r\n  ) {\r\n    element.textContent === 'My library'\r\n      ? createHeaderLibraryrMarkup()\r\n      : createHeaderHomeMarkup();\r\n  } else if (\r\n    element.parentElement === logoNavRef &&\r\n    !buttonHomeRef.classList.contains('is-active')\r\n  ) {\r\n    createHeaderHomeMarkup();\r\n  }\r\n}\r\n\r\nexport default createHeaderHomeMarkup;\r\n","import './sass/main.scss';\r\nimport refs from './js/refs';\r\nimport './js/up-btn';\r\nimport './js/header-position';\r\nimport './js/storage';\r\nimport './js/themes';\r\nimport './js/theme-change';\r\nimport './js/footermodal.js';\r\nimport showErrorNote from './js/error-notification';\r\nimport './js/modal';\r\nimport './js/modal-close';\r\nimport './js/movieLibrary';\r\n\r\nimport createHeaderHomeMarkup from './js/header-render';\r\ncreateHeaderHomeMarkup();\r\n\r\nimport apiService from './js/apiService.js';\r\nimport pagination from './js/pagination.js';\r\nimport fnFetch from './js/fetch.js';\r\nimport { HOME, SEARCH, WATCHED, QUEUE } from './js/request.js';\r\nimport { load, save, remove } from './js/storage';\r\n// import modal from './js/modal';\r\n\r\nconst searchFormRef = document.querySelector('.search-form');\r\nconst errorNoteRef = document.querySelector('.header__error');\r\nsave('currentRequest', HOME);\r\n\r\nfnFetch.fetchData();\r\n\r\nfunction onSubmitSearchForm(event) {\r\n  event.preventDefault();\r\n  const searchQuery = event.target.elements.query.value;\r\n\r\n  if (!searchQuery) {\r\n    showErrorNote(errorNoteRef);\r\n    return;\r\n  }\r\n  apiService.searchQuery = searchQuery;\r\n  save('currentRequest', SEARCH);\r\n  fnFetch.fetchData();\r\n}\r\n\r\nfunction onClickPaginate(event) {\r\n  if (event.target.nodeName !== 'LI' || event.target.textContent === '...') {\r\n    return;\r\n  }\r\n  const pagePagination = pagination.getActivePageForFetch(event.target);\r\n  const fetchSettings = pagination.getSettingForFetch(pagePagination);\r\n  const currentRequest = load('currentRequest');\r\n  switch (currentRequest) {\r\n    case HOME:\r\n      fnFetch.fetchData(fetchSettings, pagePagination);\r\n      break;\r\n    case SEARCH:\r\n      fnFetch.fetchData(pagePagination);\r\n      break;\r\n    case WATCHED:\r\n      fnFetch.fetchDataLibrary(pagePagination, load('watched'));\r\n      break;\r\n    case QUEUE:\r\n      fnFetch.fetchDataLibrary(pagePagination, load('queue'));\r\n      break;\r\n    default:\r\n      console.log(Error('Не найден тип текущего запроса'));\r\n  }\r\n}\r\n\r\nfunction onClickFilm(event) {\r\n  const movieId = event.path.find(elem => elem.classList.value === 'film item')\r\n    .dataset.movieid;\r\n  event.preventDefault();\r\n  fnFetch.fetchDataFilm(movieId);\r\n}\r\n\r\nfunction onClickLibrary() {\r\n  save('currentRequest', QUEUE);\r\n  fnFetch.fetchDataLibrary(1, load('queue'));\r\n}\r\n\r\nsearchFormRef.addEventListener('submit', onSubmitSearchForm);\r\nrefs.paginationBox.addEventListener('click', onClickPaginate);\r\nrefs.filmListRef.addEventListener('click', onClickFilm);\r\nrefs.pageLibraryRef().addEventListener('click', onClickLibrary);\r\n","\r\n\r\nexport default function showErrorNotification(element)  {\r\n    element.style.display = \"block\";\r\n    setTimeout(() => {\r\n      element.style.display = \"none\";\r\n    }, 2000);\r\n}","const headerFixed = document.querySelector(\".header\");\r\nconst headerHeight = 230;\r\nlet howScroll = 60;\r\nlet lastScrollTop = 0;\r\nwindow.addEventListener(\"scroll\", function () {\r\n  let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n  if ((scrollTop > lastScrollTop) && (scrollTop > howScroll)) {\r\n    headerFixed.style.top = -headerHeight + 'px';\r\n  } else {\r\n    headerFixed.style.top = 0;\r\n    headerFixed.classList.add(\"js-modify-header\");\r\n  }\r\n  if (window.pageYOffset === 0) {\r\n    headerFixed.classList.remove(\"js-modify-header\");\r\n  }\r\n  lastScrollTop = scrollTop;\r\n}, { passive: true });\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"\\r\\n    <div class=\\\"header-nav-container\\\">\\r\\n        <div class=\\\"logo-container\\\">\\r\\n            <span class=\\\"header__logo\\\"></span>\\r\\n            <h1 class=\\\"header__title\\\">\\r\\n                Filmoteka\\r\\n            </h1>\\r\\n        </div>\\r\\n        <nav>\\r\\n            <ul class=\\\"site-nav__list\\\">\\r\\n                <li class=\\\"site-nav__item\\\">\\r\\n                    <button class=\\\"site-nav__button is-active js-home\\\" data-request=\\\"home\\\">Home</button>\\r\\n                </li>\\r\\n                <li class=\\\"site-nav__item\\\">\\r\\n                    <button class=\\\"site-nav__button js-library\\\" data-request=\\\"library\\\">My library</button>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </nav>\\r\\n    </div>\\r\\n    <form class=\\\"search-form\\\">\\r\\n        <input class=\\\"search-form__input\\\" type=\\\"text\\\" name=\\\"query\\\" placeholder=\\\"Movie search\\\" autocomplete=\\\"off\\\" />\\r\\n        <button type=\\\"submit\\\" class=\\\"search-form__button\\\" aria-label=\\\"Search\\\">\\r\\n            <span class=\\\"search-form__icon\\\"></span>\\r\\n        </button>\\r\\n\\r\\n\\r\\n    </form>\\r\\n    <div class=\\\"error-container\\\">\\r\\n        <p class=\\\"header__error\\\">Search result not successful. Enter the correct movie name and press enter</p>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"theme-switch__control\\\">\\r\\n        <input class=\\\"theme-switch__toggle\\\" type=\\\"checkbox\\\" name=\\\"theme\\\" id=\\\"theme-switch-toggle\\\"\\r\\n                aria-label=\\\"Change theme\\\" />\\r\\n        <label aria-hidden=\\\"true\\\" class=\\\"theme-switch__track\\\" for=\\\"theme-switch-toggle\\\">\\r\\n        </label>\\r\\n        <div aria-hidden=\\\"true\\\" class=\\\"theme-switch__marker\\\"></div>\\r\\n    </div>\";\n},\"useData\":true});","    function trackScroll() {\r\n        const scrolled = window.pageYOffset;\r\n        const coords = document.documentElement.clientHeight;\r\n        if (scrolled > coords) {\r\n            goTopBtn.classList.add('back_to_top-show');\r\n        }\r\n        if (scrolled < coords) {\r\n            goTopBtn.classList.remove('back_to_top-show');\r\n        }\r\n    }\r\n    function backToTop() {\r\n        if (window.pageYOffset > 0) {\r\n            window.scrollBy(0, -80);\r\n            setTimeout(backToTop, 0);\r\n        }\r\n    }\r\n    const goTopBtn = document.querySelector('.back_to_top');\r\n    window.addEventListener('scroll', trackScroll);\r\n    goTopBtn.addEventListener('click', backToTop);","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isActive\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":21},\"end\":{\"line\":7,\"column\":28}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                         <li class=\\\"pagination__item active\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"elem\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                         <li class=\\\"pagination__item \\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"elem\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"               <li class=\\\"pagination__item prev\\\"></li>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":15},\"end\":{\"line\":8,\"column\":24}}})) != null ? stack1 : \"\")\n    + \"               <li class=\\\"pagination__item next\\\"></li>\\r\\n\\r\\n\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}