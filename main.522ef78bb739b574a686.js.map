{"version":3,"sources":["webpack:///./templates/film-card.hbs","webpack:///./js/refs.js","webpack:///./js/storage.js","webpack:///./js/themes.js","webpack:///./js/footermodal.js","webpack:///./js/theme-change.js","webpack:///./js/pagination.js","webpack:///./js/request.js","webpack:///./js/apiService.js","webpack:///./js/addContent.js","webpack:///./js/fetch.js","webpack:///./js/modal.js","webpack:///./js/modal-close.js","webpack:///./js/movieLibrary.js","webpack:///./js/fnHendler.js","webpack:///./js/change-header-theme.js","webpack:///./js/library-list-hendler.js","webpack:///./js/spinner.js","webpack:///./index.js","webpack:///./js/header-position.js","webpack:///./js/up-btn.js","webpack:///./templates/pagination.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","refs","headerNavContainer","document","querySelector","paginationBox","paginationList","filmListRef","checkboxEl","bodyEl","modalRef","backdropModalRef","closeBtn","modalImg","modalTitle","votes","rate","popularity","title","genre","descr","votesTitle","popularityTitle","originalTitle","genresTitle","addToWatchedBtn","addToQueueBtn","pageLibraryRef","divLightbox","btnClose","modalClose","openModal","siteNavButtons","logoNav","libraryList","searchForm","homeHeaderBtn","libraryHeaderBtn","watchedBtn","queueBtn","spinner","load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","LIGHT","DARK","onModalCloseDiv","event","classList","add","remove","window","setTimeout","addEventListener","savedTheme","onCheckboxChecked","checked","onCheckboxNotChecked","currentTarget","target","nodeName","numberOfPagesPagination","totalPages","HOME","SEARCH","WATCHED","QUEUE","ulrApi","query","page","keyApi","language","currentRequest","fetchReturn","url","opts","fetch","then","response","json","catch","fetchData","currentPage","this","urlApi","log","Error","headers","Accept","fetchDetalsFilm","movieId","body","clientWidth","pathForImg","listFilms","detalsFilms","resultForMarkup","map","elem","genresFilm","find","item","id","genres","length","slice","name","poster_path","release_date","innerHTML","insertAdjacentHTML","filmCard","totalHits","activePage","arrayPagination","apiService","perPage","Math","ceil","numberOfPages","centerOfPages","Array","from","v","k","limit","isActive","createArrayPaginationMobile","arrayOfPages","createArrayPagination","eventTarget","textContent","contains","itemStart","floor","currentNumStart","currentNumEnd","numStart","numEnd","fetchSettings","pagePagination","resultArray","set","resAwait","totalResults","total_results","results","promisesIdFilms","Promise","all","resultArrayDetalsFilm","addContent","pagination","Number","numFirst","numLast","updateModalValue","genresSep","object","obj","valueHeight","src","vote_average","vote_count","original_title","overview","dataset","offsetHeight","style","openingModal","path","movieid","includes","onEscPress","closingModal","removeEventListener","code","preventDefault","splice","indexOf","push","searchQuery","elements","fnFetch","onSiteNavButtonsClick","element","display","parentElement","reset","toggle","spinnerClose","searchFormRef","fnHendler","headerFixed","lastScrollTop","scrollTop","pageYOffset","documentElement","top","passive","goTopBtn","scrolled","coords","clientHeight","backToTop","scrollBy","lambda"],"mappings":"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","file":"main.522ef78bb739b574a686.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"film item\\\" data-movieId=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":43},\"end\":{\"line\":2,\"column\":49}}}) : helper)))\n    + \">\\r\\n          <div href=\\\"\\\" class=\\\"film__link link\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":12},\"end\":{\"line\":8,\"column\":20}}})) != null ? stack1 : \"\")\n    + \"\\r\\n            <div class=\\\"film__content\\\"}>\\r\\n              <h3 class=\\\"film__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":38},\"end\":{\"line\":11,\"column\":47}}}) : helper)))\n    + \"</h3>\\r\\n              <div class=\\\"film__info\\\">\\r\\n                <ul class=\\\"film__genres\\\" >\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":18},\"end\":{\"line\":19,\"column\":26}}})) != null ? stack1 : \"\")\n    + \"|&ensp;\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":33},\"end\":{\"line\":19,\"column\":49}}}) : helper)))\n    + \"&ensp;</ul>\\r\\n                  <span class=\\\"film__average\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":46},\"end\":{\"line\":20,\"column\":62}}}) : helper)))\n    + \"</span></div>\\r\\n            </div>\\r\\n          </вa>\\r\\n        </li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"             <img src=\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":22},\"end\":{\"line\":5,\"column\":37}}}) : helper)))\n    + \" class=\\\"film__img\\\" alt=\\\"\\\">\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"             <img src=\\\"/images/default-opt.jpg\\\" class=\\\"film__img\\\" alt=\\\"\\\">\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,\"last\")),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":18},\"end\":{\"line\":18,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"                 \";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" <li class=\\\"film__list__genre\\\"> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":63},\"end\":{\"line\":15,\"column\":71}}}) : helper)))\n    + \"&thinsp;</li>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                <li class=\\\"film__list__genre\\\"> \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":63},\"end\":{\"line\":17,\"column\":71}}}) : helper)))\n    + \",&thinsp;</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":8},\"end\":{\"line\":24,\"column\":17}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n    headerNavContainer: document.querySelector('.header-nav-container'),\r\n    paginationBox: document.querySelector('.pagination'),\r\n    paginationList: document.querySelector('.pagination__list'),\r\n    filmListRef: document.querySelector('.films__list'),\r\n    checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n    bodyEl: document.querySelector('body'),\r\n    modalRef: document.querySelector('.modal'),\r\n    backdropModalRef: document.querySelector('.backdrop'),\r\n    closeBtn: document.querySelector('[data-action=close]'),\r\n\r\n    modalImg: document.querySelector('.modal__image'),\r\n    modalTitle: document.querySelector('.modal__title'),\r\n    votes: document.querySelector('[data-attribute=\"votes\"]'),\r\n    rate: document.querySelector('.film-info__rate'),\r\n    popularity: document.querySelector('[data-attribute=\"popularity\"]'),\r\n    title: document.querySelector('[data-attribute=\"title\"]'),\r\n    genre: document.querySelector('[data-attribute=\"genre\"]'),\r\n    descr: document.querySelector('.description-text'),\r\n    votesTitle: document.querySelector('[data-attribute=\"votesTitle\"]'),\r\n    popularityTitle: document.querySelector('[data-attribute=\"popularityTitle\"]'),\r\n    originalTitle: document.querySelector('[data-attribute=\"originalTitle\"]'),\r\n    genresTitle: document.querySelector('[data-attribute=\"genresTitle\"]'),\r\n\r\n    addToWatchedBtn: document.querySelector('.modal__btn--watched'),\r\n    addToQueueBtn: document.querySelector('.modal__btn--queue'),\r\n\r\n\r\n//  =======\r\n\r\n\r\n  pageLibraryRef: () => document.querySelector('[data-request=\"library\"]'),\r\n\r\n\r\n  //=======\r\n    divLightbox: document.querySelector('.lightbox'),\r\n    btnClose: document.querySelector('.lightbox__button'),\r\n    modalClose: document.querySelector('.lightbox__body'),\r\n    openModal: document.querySelector('.js-footer__text'),\r\n\r\n\r\n\r\n\r\n\r\n  // ========= после перемены Хедера!\r\n\r\n  siteNavButtons: document.querySelector('.site-nav__list'),\r\n  logoNav: document.querySelector('.logo-container'),\r\n  libraryList: document.querySelector('.library__list'),\r\n  searchForm: document.querySelector('.search-form'),\r\n  homeHeaderBtn: document.querySelector('.js-home'),\r\n  libraryHeaderBtn: document.querySelector('.js-library'),\r\n  watchedBtn: document.querySelector('[data-request=\"watched\"]'),\r\n  queueBtn: document.querySelector('[data-request=\"queue\"]'),\r\n\r\n  spinner: document.querySelector('#spinner'),\r\n};\r\n\r\nexport default refs;\r\n","// Theme storage\r\nconst load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nconst remove = key => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (err) {\r\n    console.error('Remove state error: ', err);\r\n  }\r\n};\r\nexport { load, save, remove };","const Themes = {\r\n  LIGHT: 'light-theme',\r\n  DARK: 'dark-theme',\r\n};\r\n\r\nconst { LIGHT, DARK } = Themes;\r\n\r\nexport { LIGHT, DARK };","import refs from './refs';\r\n\r\nrefs.openModal.addEventListener('click', onOpenModal);\r\nrefs.btnClose.addEventListener('click', onModalClose);\r\nrefs.modalClose.addEventListener('click', onModalCloseDiv);\r\ndocument.addEventListener('keydown', onModalCloseEsc);\r\n\r\n\r\nfunction onModalCloseDiv(event) {\r\n    refs.modalClose.classList.add('slideUpOut');\r\n    refs.modalClose.classList.remove('slideUpIn');\r\n    window.setTimeout(function() {\r\n        refs.divLightbox.classList.remove('is-open');\r\n        refs.bodyEl.classList.remove('is-open');\r\n    }, 500);\r\n\r\n\r\n}\r\n\r\nfunction onModalClose(event) {\r\n    if (event.target.nodeName === 'BUTTON') {\r\n        onModalCloseDiv();\r\n    }\r\n}\r\n\r\nfunction onModalCloseEsc(event) {\r\n    if (event.key === 'Escape') {\r\n        onModalCloseDiv();\r\n    }\r\n}\r\n\r\nfunction onOpenModal(event) {\r\n    refs.modalClose.classList.remove('slideUpOut');\r\n    refs.divLightbox.classList.add('is-open');\r\n    refs.bodyEl.classList.add('is-open');\r\n    refs.modalClose.classList.add('slideUpIn');\r\n\r\n}","// import './refs';\r\nimport { LIGHT, DARK } from './themes';\r\nimport { load, save, remove } from './storage';\r\n\r\n// const refs = {\r\n//   checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n//   bodyEl: document.querySelector('body'),\r\n// }\r\n\r\n// function onCheckboxChange() {\r\n//   event.currentTarget.checked ? onCheckboxChecked() : onCheckboxNotChecked();\r\n// }\r\n\r\n// function onCheckboxChecked() {\r\n//   refs.bodyEl.classList.add(DARK);\r\n//   refs.bodyEl.classList.remove(LIGHT);\r\n//   save('Theme', DARK);\r\n//   refs.checkboxEl.checked = true;\r\n// }\r\n\r\n// function onCheckboxNotChecked() {\r\n//   refs.bodyEl.classList.add(LIGHT);\r\n//   refs.bodyEl.classList.remove(DARK);\r\n//   save('Theme', LIGHT);\r\n//   refs.checkboxEl.checked = false;\r\n// }\r\n\r\n// function currentTheme() {\r\n//   const savedTheme = load('Theme');\r\n//   if (savedTheme === LIGHT) {\r\n//     onCheckboxNotChecked();\r\n//     return;\r\n//   }\r\n//   if (savedTheme === DARK) {\r\n//     onCheckboxChecked();\r\n//     return;\r\n//   }\r\n// }\r\n\r\n// currentTheme();\r\n\r\n// refs.checkboxEl.addEventListener('change', onCheckboxChange);\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\nconst refs = {\r\n  checkboxEl: document.querySelector('#theme-switch-toggle'),\r\n  bodyEl: document.querySelector('body'),\r\n}\r\n\r\nfunction onCheckboxChange() {\r\n  event.currentTarget.checked ? onCheckboxChecked() : onCheckboxNotChecked();\r\n}\r\n\r\nfunction onCheckboxChecked() {\r\n  refs.bodyEl.classList.add(DARK);\r\n  refs.bodyEl.classList.remove(LIGHT);\r\n  save('Theme', DARK);\r\n  refs.checkboxEl.checked = true;\r\n}\r\n\r\nfunction onCheckboxNotChecked() {\r\n  refs.bodyEl.classList.add(LIGHT);\r\n  refs.bodyEl.classList.remove(DARK);\r\n  save('Theme', LIGHT);\r\n  refs.checkboxEl.checked = false;\r\n}\r\n\r\nfunction currentTheme() {\r\n  const savedTheme = load('Theme');\r\n  if (savedTheme === LIGHT) {\r\n    onCheckboxNotChecked();\r\n    return;\r\n  }\r\n  if (savedTheme === DARK) {\r\n    onCheckboxChecked();\r\n    return;\r\n  }\r\n}\r\ncurrentTheme();\r\nrefs.checkboxEl.addEventListener('change', onCheckboxChange);\r\n});","import paginationList from '../templates/pagination.hbs';\r\nimport apiService from './apiService.js';\r\nimport refs from './refs';\r\nlet numberOfPagesPagination;\r\n\r\nconst FETCH = 20;\r\nconst screenWidth = 580;\r\nconst limit = 20;\r\nlet totalPages;\r\n\r\nfunction createArrayPaginationMobile(numberOfPages, activePage, totalPages) {\r\n  let arrayOfPages;\r\n  const centerOfPages = Math.ceil(numberOfPages / 2);\r\n\r\n  if (numberOfPages >= totalPages || activePage <= centerOfPages) {\r\n    arrayOfPages = Array.from({ length: numberOfPages }, (v, k) => {\r\n      return k + 1;\r\n    });\r\n  } else if (activePage >= limit - 2) {\r\n    arrayOfPages = Array.from(\r\n      { length: numberOfPages },\r\n      (v, k) => limit - numberOfPages + k + 1,\r\n    );\r\n  } else {\r\n    arrayOfPages = Array.from(\r\n      { length: numberOfPages },\r\n      (v, k) => activePage - centerOfPages + k + 1,\r\n    );\r\n  }\r\n\r\n  return arrayOfPages.map(elem =>\r\n    elem === activePage ? { elem, isActive: true } : { elem, isActive: false },\r\n  );\r\n}\r\nfunction createArrayPagination(numberOfPages, activePage, totalPages) {\r\n  let arrayOfPages;\r\n  const centerOfPages = Math.ceil(numberOfPages / 2);\r\n  if (numberOfPages >= totalPages) {\r\n    arrayOfPages = Array.from({ length: numberOfPages }, (v, k) => {\r\n      return k + 1;\r\n    });\r\n  } else if (activePage <= centerOfPages) {\r\n    arrayOfPages = [\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return k + 1;\r\n      }),\r\n      '...',\r\n      totalPages,\r\n    ];\r\n  } else if (activePage === totalPages) {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return activePage - numberOfPages + 3 + k;\r\n      }),\r\n    ];\r\n  } else if (activePage >= totalPages - 4) {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 7 }, (v, k) => {\r\n        return limit - numberOfPages + 3 + k;\r\n      }),\r\n    ];\r\n    console.log(arrayOfPages);\r\n  } else {\r\n    arrayOfPages = [\r\n      1,\r\n      '...',\r\n      ...Array.from({ length: 5 }, (v, k) => {\r\n        return activePage - centerOfPages + k + 3;\r\n      }),\r\n      '...',\r\n      totalPages,\r\n    ];\r\n  }\r\n\r\n  return arrayOfPages.map(elem =>\r\n    elem === activePage ? { elem, isActive: true } : { elem, isActive: false },\r\n  );\r\n}\r\n\r\nexport default {\r\n  addPaginationList(totalHits, activePage) {\r\n    if (!totalHits || totalHits <= apiService.perPage) {\r\n      refs.paginationBox.classList.add('is-hidden');\r\n      return;\r\n    }\r\n\r\n    totalPages =\r\n      totalHits / apiService.perPage <= limit\r\n        ? Math.ceil(totalHits / apiService.perPage)\r\n        : limit;\r\n\r\n    if (!totalHits) return;\r\n    let arrayPagination;\r\n\r\n    if (totalPages <= 5) {\r\n      numberOfPagesPagination = totalPages;\r\n    } else {\r\n      if (document.body.clientWidth < screenWidth) {\r\n        numberOfPagesPagination = 5;\r\n      } else {\r\n        numberOfPagesPagination = 9;\r\n      }\r\n    }\r\n    if (document.body.clientWidth < screenWidth) {\r\n      arrayPagination = createArrayPaginationMobile(\r\n        totalPages <= 5 ? totalPages : numberOfPagesPagination,\r\n        activePage,\r\n        totalPages,\r\n      );\r\n    } else {\r\n      arrayPagination = createArrayPagination(\r\n        totalPages <= 9 ? totalPages : numberOfPagesPagination,\r\n        activePage,\r\n        totalPages,\r\n      );\r\n    }\r\n\r\n    refs.paginationBox.classList.remove('is-hidden');\r\n    refs.paginationList.innerHTML = '';\r\n    refs.paginationList.insertAdjacentHTML(\r\n      'beforeend',\r\n      paginationList(arrayPagination),\r\n    );\r\n  },\r\n\r\n  getActivePageForFetch(eventTarget) {\r\n    console.log(totalPages);\r\n    let activePage = +refs.paginationBox.querySelector('.active').textContent;\r\n\r\n    if (eventTarget.classList.contains('prev')) {\r\n      return activePage > 1 ? activePage - 1 : 1;\r\n    }\r\n    if (eventTarget.classList.contains('next')) {\r\n      console.log(activePage, totalPages);\r\n      return activePage < totalPages ? activePage + 1 : totalPages;\r\n    }\r\n    return +eventTarget.textContent;\r\n  },\r\n\r\n  getSettingForFetch(activePage) {\r\n    let resultArray = [];\r\n    const perPage = apiService.perPage;\r\n\r\n    let itemEnd = activePage * perPage;\r\n    let itemStart = itemEnd - perPage + 1;\r\n\r\n    const currentPage = Math.floor(itemStart / FETCH) + 1;\r\n    const currentNumStart = (itemStart % FETCH) - 1;\r\n    let currentNumEnd = currentNumStart + perPage;\r\n\r\n    if (currentNumEnd < FETCH) {\r\n      resultArray = [\r\n        { page: currentPage, numStart: currentNumStart, numEnd: currentNumEnd },\r\n      ];\r\n      return resultArray;\r\n    }\r\n    //одна страница\r\n    else {\r\n      resultArray = [\r\n        { page: currentPage, numStart: currentNumStart, numEnd: FETCH },\r\n      ];\r\n    }\r\n\r\n    const nextPage = currentPage + 1;\r\n    const nextNumStart = 0;\r\n    const nextNumEnd = nextNumStart + perPage - (FETCH - currentNumStart);\r\n    resultArray = [\r\n      ...resultArray,\r\n      { page: nextPage, numStart: nextNumStart, numEnd: nextNumEnd },\r\n    ];\r\n    return resultArray;\r\n  },\r\n\r\n  getActivePage() {\r\n    return +refs.paginationBox.querySelector('.active').textContent;\r\n  },\r\n};\r\n","const requstName = {\r\n  HOME: 'home',\r\n  SEARCH: 'search',\r\n  WATCHED: 'watched',\r\n  QUEUE: 'queue',\r\n};\r\nconst { HOME, SEARCH, WATCHED, QUEUE } = requstName;\r\n\r\nexport { HOME, SEARCH, WATCHED, QUEUE };\r\n","import { load, save, remove } from './storage';\r\nimport { HOME, SEARCH } from './request.js';\r\n\r\nexport default {\r\n  ulrApi: '',\r\n  query: '',\r\n  page: 1,\r\n  keyApi: '0e6eebd27dfd68a7c4ec96f04756cc6c',\r\n  language: 'en-US',\r\n  currentRequest: '',\r\n\r\n  fetchReturn(url, opts) {\r\n    return fetch(url, opts)\r\n      .then(response => response.json())\r\n      .then(data => data)\r\n      .catch(console.error);\r\n  },\r\n\r\n  fetchData({ page: currentPage = 1 }) {\r\n    this.page = currentPage;\r\n\r\n    this.currentRequest = load('currentRequest');\r\n    switch (this.currentRequest) {\r\n      case HOME:\r\n        this.urlApi = `https://api.themoviedb.org/3/trending/movie/week?api_key=${this.keyApi}&page=${this.page}&language=${this.language}`;\r\n        break;\r\n\r\n      case SEARCH:\r\n        this.urlApi = `https://api.themoviedb.org/3/search/movie?api_key=${this.keyApi}&page=${this.page}&query=${this.query}&language=${this.language}`;\r\n        break;\r\n\r\n      default:\r\n        console.log(Error('Не найден тип текущего запроса'));\r\n    }\r\n\r\n    const options = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    };\r\n\r\n    return this.fetchReturn(this.urlApi, options);\r\n  },\r\n\r\n  fetchDetalsFilm(movieId) {\r\n    const urlApi = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${this.keyApi}&language=${this.language}`;\r\n\r\n    const options = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n    };\r\n\r\n    return this.fetchReturn(urlApi, options);\r\n  },\r\n\r\n  set searchQuery(value) {\r\n    this.query = value;\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  get perPage() {\r\n    if (document.body.clientWidth < 768) {\r\n      return 4;\r\n    }\r\n    if (document.body.clientWidth < 1024) {\r\n      return 8;\r\n    }\r\n    return 9;\r\n  },\r\n  get languageReq() {\r\n    return this.language;\r\n  },\r\n  set languageReq(value) {\r\n    this.language = value;\r\n  },\r\n};\r\n","import filmCard from '../templates/film-card.hbs';\r\nimport apiService from './apiService';\r\nimport refs from './refs';\r\n// import keyWords from './keyWords';\r\n\r\nconst pathForImg = 'https://image.tmdb.org/t/p/w342/';\r\nconst imgDefault = './images/default-opt.jpg';\r\n\r\nexport default {\r\n  additemList(listFilms, detalsFilms) {\r\n    const resultForMarkup = listFilms.map(elem => {\r\n      const genresFilm = detalsFilms.find(item => item.id === elem.id).genres;\r\n\r\n      const genres =\r\n        genresFilm.length > 2\r\n          ? [...genresFilm.slice(0, 2), { id: 999, name: 'Other' }]\r\n          : genresFilm;\r\n\r\n      return {\r\n        ...elem,\r\n        poster_path: elem.poster_path ? pathForImg + elem.poster_path : false,\r\n        release_date: elem.release_date ? elem.release_date.slice(0, 4) : '',\r\n        genres,\r\n      };\r\n    });\r\n\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.filmListRef.insertAdjacentHTML('beforeend', filmCard(resultForMarkup));\r\n    console.log(refs.filmListRef);\r\n  },\r\n\r\n  addLibraryList(listFilms) {\r\n    if (!listFilms || !listFilms.length) {\r\n      refs.filmListRef.innerHTML = '';\r\n      refs.paginationList.innerHTML = '';\r\n      return;\r\n    }\r\n    const resultForMarkup = listFilms.map(elem => {\r\n      const genres =\r\n        elem.genres.length > 2\r\n          ? [...elem.genres.slice(0, 2), { id: 999, name: 'Other' }]\r\n          : elem.genres;\r\n\r\n      return {\r\n        ...elem,\r\n        poster_path: elem.poster_path\r\n          ? pathForImg + elem.poster_path\r\n          : imgDefault,\r\n        release_date: elem.release_date ? elem.release_date.slice(0, 4) : '',\r\n        genres,\r\n      };\r\n    });\r\n\r\n    refs.filmListRef.innerHTML = '';\r\n    refs.filmListRef.insertAdjacentHTML('beforeend', filmCard(resultForMarkup));\r\n  },\r\n};\r\n","import addContent from './addContent';\r\nimport apiService from './apiService.js';\r\nimport pagination from './pagination.js';\r\nimport updateModalValue from './modal';\r\nimport refs from './refs';\r\n\r\nexport default {\r\n  async fetchData(\r\n    fetchSettings = [{ page: 1, numStart: 0, numEnd: apiService.perPage }],\r\n    pagePagination = 1,\r\n  ) {\r\n    try {\r\n      let resultArray = [];\r\n      let totalResults;\r\n      for (let set of fetchSettings) {\r\n        const resAwait = await apiService.fetchData(set);\r\n        totalResults = resAwait.total_results;\r\n        resultArray = [\r\n          ...resultArray,\r\n          ...resAwait.results.slice(set.numStart, set.numEnd),\r\n        ];\r\n      }\r\n      const promisesIdFilms = resultArray.map(elem =>\r\n        apiService.fetchDetalsFilm(elem.id),\r\n      );\r\n      const resultArrayDetalsFilm = await Promise.all(promisesIdFilms);\r\n\r\n      addContent.additemList(resultArray, resultArrayDetalsFilm);\r\n      console.log('totalres', totalResults);\r\n   \r\n      pagination.addPaginationList(totalResults, pagePagination);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async fetchDataLibrary(pagePagination = 1, listFilms) {\r\n    const perPage = apiService.perPage;\r\n\r\n    if (!listFilms || !listFilms.length) {\r\n      addContent.addLibraryList(listFilms);\r\n      return;\r\n    }\r\n\r\n    const resultArray = listFilms.map(elem => Number(elem));\r\n    const promisesIdFilms = resultArray.map(elem =>\r\n      apiService.fetchDetalsFilm(elem, pagePagination),\r\n    );\r\n\r\n    const resultArrayDetalsFilm = await Promise.all(promisesIdFilms);\r\n    const numFirst = pagePagination * perPage - perPage;\r\n    const numLast = pagePagination * perPage;\r\n    addContent.addLibraryList(resultArrayDetalsFilm.slice(numFirst, numLast));\r\n    pagination.addPaginationList(resultArrayDetalsFilm.length, pagePagination);\r\n  },\r\n\r\n  async fetchDataFilm(movieId) {\r\n    try {\r\n      const resAwait = await apiService.fetchDetalsFilm(movieId);\r\n      updateModalValue(resAwait);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n","import './fetch';\r\nimport './refs';\r\nimport refs from './refs';\r\n\r\nfunction updateModalValue(obj) {\r\n  refs.modalTitle.textContent = obj.title;\r\n  refs.modalImg.src = obj.poster_path\r\n    ? `https://image.tmdb.org/t/p/w500/${obj.poster_path}`\r\n    : '/images/default-opt.jpg';\r\n  refs.rate.textContent = obj.vote_average;\r\n  refs.votes.textContent = obj.vote_count;\r\n  refs.popularity.textContent = obj.popularity;\r\n  refs.title.textContent = obj.original_title;\r\n  refs.genre.textContent = genresSep(obj);\r\n  refs.descr.textContent = obj.overview;\r\n  // добавляем id фильмов на кнопки для реализации My Library\r\n  refs.addToWatchedBtn.dataset.id = obj.id;\r\n  refs.addToQueueBtn.dataset.id = obj.id;\r\n  genresSep(obj);\r\n  alignHeight();\r\n}\r\n\r\n//  fn для выравнивания элементов списка в модалке при длинном названии фильма\r\nfunction alignHeight() {\r\n  const item = refs.originalTitle;\r\n  const valueHeight = refs.title.offsetHeight;\r\n  if (item.offsetHeight !== valueHeight) {\r\n    item.style = `margin-bottom: ${valueHeight - 15}px`;\r\n  }\r\n}\r\n\r\nfunction genresSep(object) {\r\n  const genresArray = object.genres;\r\n  genresArray.map(({ name }) => (refs.genre.textContent += `${name} `));\r\n}\r\n\r\nexport default updateModalValue;\r\n","// import './modal.js'\r\nimport refs from './refs';\r\n\r\nfunction nodeCheckClosing(event) {\r\n    if (event.target.classList.value !== 'backdrop') {\r\n      return\r\n    }\r\n  closingModal();\r\n}\r\n\r\nrefs.closeBtn.addEventListener('click', closingModal);\r\nrefs.backdropModalRef.addEventListener('click', nodeCheckClosing);\r\nrefs.filmListRef.addEventListener('click', openingModal);\r\n\r\nfunction openingModal() {\r\n  const id = event.path.find(elem => elem.classList.value === 'film item')\r\n    .dataset.movieid;\r\n  \r\n  const all = JSON.parse(localStorage.getItem('watched') || '[]');\r\n  if (all.includes(id)) {\r\n    refs.addToWatchedBtn.innerHTML = 'REMOVE FROM WATCHED';\r\n  }\r\n\r\n  const all2 = JSON.parse(localStorage.getItem('queue') || '[]');\r\n  if (all2.includes(id)) {\r\n    refs.addToQueueBtn.innerHTML = 'REMOVE FROM QUEUE';\r\n  }\r\n\r\n  refs.backdropModalRef.classList.remove('visually-hidden');\r\n  refs.modalRef.classList.remove('visually-hidden');\r\n  refs.bodyEl.classList.add('modal-is-open');\r\n  // console.log('cliked');\r\n  window.addEventListener('keydown', onEscPress);\r\n  \r\n}\r\n\r\nfunction closingModal() {\r\n  refs.backdropModalRef.classList.add('visually-hidden');\r\n  refs.modalRef.classList.add('visually-hidden');\r\n  window.removeEventListener('keydown', onEscPress);\r\n  refs.bodyEl.classList.remove('modal-is-open');\r\n  setTimeout(clearData(),100)\r\n}\r\n\r\nfunction clearData () {\r\n  refs.modalImg.src = '';\r\n  refs.modalTitle.textContent = '';\r\n  refs.rate.textContent = '';\r\n  refs.votes.textContent = '';\r\n  refs.popularity.textContent = '';\r\n  refs.title.textContent = '';\r\n  refs.genre.textContent = '';\r\n  refs.descr.textContent = '';\r\n  refs.addToWatchedBtn.innerHTML = 'ADD TO WATCHED';\r\n  refs.addToQueueBtn.innerHTML = 'ADD TO QUEUE';\r\n  \r\n}\r\n\r\nfunction onEscPress(event) {\r\n  if (event.code === 'Escape') closingModal();\r\n}\r\n\r\nexport default openingModal;\r\n","import {Server} from './Firebase';\r\nimport refs from './refs';\r\n// import { Server } from 'core-js/fn/array';\r\n\r\nrefs.addToWatchedBtn.addEventListener('click', handleWatched);\r\nrefs.addToQueueBtn.addEventListener('click', handleQueue);\r\n// refs.watchedBtnLibrary.addEventListener('click', Btn);\r\n\r\n// function Btn(event) {\r\n//   console.dir(event.target);\r\n//   if (event.target.className === 'button button--library') {\r\n//     console.log('Click!');\r\n//   }; \r\n// }\r\n\r\nfunction handleWatched(event) {\r\n  event.preventDefault();\r\n  refs.addToWatchedBtn.innerHTML = 'REMOVE FROM WATCHED';\r\n  const id = event.target.dataset.id;\r\n  const all = JSON.parse(localStorage.getItem('watched') || '[]');\r\n  if (!all.includes(id)) { all.push(id) }\r\n  else {\r\n    all.splice(all.indexOf(id), 1);\r\n    refs.addToWatchedBtn.innerHTML = 'ADD TO WATCHED';\r\n  };\r\n\r\n  // Server.addToWatched(all);\r\n  localStorage.setItem('watched', JSON.stringify(all));\r\n}\r\n\r\nfunction handleQueue(event) {\r\n  event.preventDefault();\r\n  refs.addToQueueBtn.innerHTML = 'REMOVE FROM QUEUE';\r\n    const id = event.target.dataset.id; \r\n    const all = JSON.parse(localStorage.getItem('queue') || '[]');    \r\n  if (!all.includes(id)) {\r\n    all.push(id);\r\n  } else {\r\n    all.splice(all.indexOf(id), 1);\r\n    refs.addToQueueBtn.innerHTML = 'ADD TO QUEUE';\r\n  };     \r\n    // Server.addToQueue(all);\r\n     localStorage.setItem('queue', JSON.stringify(all));\r\n}","import pagination from './pagination.js';\r\nimport fnFetch from './fetch.js';\r\nimport apiService from './apiService.js';\r\nimport { HOME, SEARCH, WATCHED, QUEUE } from './request.js';\r\nimport { load, save, remove } from './storage';\r\nimport showErrorNote from './error-notification';\r\n\r\nexport default {\r\n  onSubmitSearchForm(event) {\r\n    event.preventDefault();\r\n    const searchQuery = event.target.elements.query.value;\r\n\r\n    if (!searchQuery) {\r\n      //   showErrorNote(errorNoteRef);\r\n      return;\r\n    }\r\n    apiService.searchQuery = searchQuery;\r\n    save('currentRequest', SEARCH);\r\n    fnFetch.fetchData();\r\n  },\r\n\r\n  onClickPaginate(event) {\r\n    if (event.target.nodeName !== 'LI' || event.target.textContent === '...') {\r\n      return;\r\n    }\r\n    const pagePagination = pagination.getActivePageForFetch(event.target);\r\n    const fetchSettings = pagination.getSettingForFetch(pagePagination);\r\n    const currentRequest = load('currentRequest');\r\n    switch (currentRequest) {\r\n      case HOME:\r\n        fnFetch.fetchData(fetchSettings, pagePagination);\r\n        break;\r\n      case SEARCH:\r\n        fnFetch.fetchData(fetchSettings, pagePagination);\r\n        break;\r\n      case WATCHED:\r\n        fnFetch.fetchDataLibrary(pagePagination, load('watched'));\r\n        break;\r\n      case QUEUE:\r\n        fnFetch.fetchDataLibrary(pagePagination, load('queue'));\r\n        break;\r\n      default:\r\n        console.log(Error('Не найден тип текущего запроса'));\r\n    }\r\n  },\r\n  onClickFilm(event) {\r\n    const movieId = event.path.find(\r\n      elem => elem.classList.value === 'film item',\r\n    ).dataset.movieid;\r\n    event.preventDefault();\r\n    fnFetch.fetchDataFilm(movieId);\r\n  },\r\n\r\n  onClickLibrary() {\r\n    save('currentRequest', QUEUE);\r\n    fnFetch.fetchDataLibrary(1, load('queue'));\r\n  },\r\n};\r\n","import refs from './refs';\r\n\r\n\r\nexport function onSiteNavButtonsClick(event) {\r\n    const element = event.target;\r\n\r\n    if (element.textContent === 'My library') {\r\n        refs.headerNavContainer.classList.add('header-nav-container--library');\r\n        refs.libraryList.style.display = \"flex\";\r\n        refs.searchForm.style.display = \"none\";\r\n        refs.libraryHeaderBtn.classList.add('is-active');\r\n        refs.homeHeaderBtn.classList.remove('is-active');\r\n    }\r\n    \r\n    if (element.textContent === 'Home' || element.parentElement === refs.logoNav) {\r\n        refs.headerNavContainer.classList.remove('header-nav-container--library');\r\n        refs.libraryList.style.display = \"none\";\r\n        refs.searchForm.style.display = \"block\";\r\n        refs.homeHeaderBtn.classList.add('is-active');\r\n        refs.libraryHeaderBtn.classList.remove('is-active');\r\n        refs.searchForm.reset();\r\n\r\n    }\r\n    \r\n        \r\n    //     else {\r\n    //         refs.headerNavContainer.classList.remove('header-nav-container--library');\r\n    //         refs.libraryList.style.display = \"none\";\r\n    //         refs.searchForm.style.display = \"block\";\r\n    //         refs.homeHeaderBtn.classList.add('is-active');\r\n    //         refs.libraryHeaderBtn.classList.remove('is-active');\r\n    //         refs.searchForm.reset();\r\n    //     }\r\n       \r\n    // }\r\n\r\n    // if (element.parentElement === refs.logoNav) {\r\n    //         refs.headerNavContainer.classList.remove('header-nav-container--library');\r\n    //         refs.libraryList.style.display = \"none\";\r\n    //         refs.searchForm.style.display = \"block\";\r\n    //         refs.homeHeaderBtn.classList.add('is-active');\r\n    //         refs.libraryHeaderBtn.classList.remove('is-active');\r\n    //         refs.searchForm.reset();\r\n    // }\r\n}\r\n\r\n\r\nrefs.siteNavButtons.addEventListener('click', onSiteNavButtonsClick);\r\nrefs.logoNav.addEventListener('click', onSiteNavButtonsClick);","import refs from './refs';\r\n\r\n\r\n\r\n\r\nexport default function onLibraryListClick(event) {\r\n    if (event.target.nodeName === 'BUTTON' && event.target.classList.contains('is-active')) {\r\n        return;\r\n    } else if (event.target.nodeName === 'BUTTON') {\r\n        refs.watchedBtn.classList.toggle('is-active');\r\n        refs.queueBtn.classList.toggle('is-active');\r\n    }\r\n}\r\n\r\n\r\nrefs.libraryList.addEventListener('click', onLibraryListClick);\r\n\r\n\r\n","// import '../node_modules/spinkit/spinkit.css';\r\n\r\nimport refs from './refs';\r\n\r\nfunction spinnerShow() {\r\n  refs.spinner.classList.remove('is-hidden');\r\n}\r\n\r\nfunction spinnerClose() {\r\n  refs.spinner.classList.add('is-hidden');\r\n\r\n}\r\n\r\nexport default spinnerClose;\r\n\r\n\r\n","import './sass/main.scss';\r\nimport refs from './js/refs';\r\nimport './js/up-btn';\r\nimport './js/header-position';\r\nimport './js/storage';\r\nimport './js/themes';\r\nimport './js/theme-change';\r\nimport './js/footermodal.js';\r\n\r\nimport './js/modal';\r\nimport './js/modal-close';\r\nimport './js/movieLibrary';\r\nimport '../node_modules/spinkit/spinkit.css';\r\n\r\n// import createHeaderHomeMarkup from './js/header-render';\r\n// createHeaderHomeMarkup();\r\n\r\nimport fnFetch from './js/fetch.js';\r\nimport fnHendler from './js/fnHendler.js';\r\n\r\nimport { HOME } from './js/request.js';\r\nimport { save } from './js/storage';\r\n// import modal from './js/modal';\r\n\r\nimport './js/change-header-theme';\r\nimport './js/library-list-hendler';\r\nimport './js/spinner';\r\n\r\n\r\nconst searchFormRef = document.querySelector('.search-form');\r\nconst errorNoteRef = document.querySelector('.header__error');\r\nsave('currentRequest', HOME);\r\n\r\nfnFetch.fetchData();\r\n\r\nsearchFormRef.addEventListener('submit', fnHendler.onSubmitSearchForm);\r\nrefs.paginationBox.addEventListener('click', fnHendler.onClickPaginate);\r\nrefs.filmListRef.addEventListener('click', fnHendler.onClickFilm);\r\nrefs.pageLibraryRef().addEventListener('click', fnHendler.onClickLibrary);\r\n\r\n\r\n\r\n","const headerFixed = document.querySelector(\".header\");\r\nconst headerHeight = 230;\r\nlet howScroll = 60;\r\nlet lastScrollTop = 0;\r\nwindow.addEventListener(\"scroll\", function () {\r\n  let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n  if ((scrollTop > lastScrollTop) && (scrollTop > howScroll)) {\r\n    headerFixed.style.top = -headerHeight + 'px';\r\n  } else {\r\n    headerFixed.style.top = 0;\r\n    headerFixed.classList.add(\"js-modify-header\");\r\n  }\r\n  if (window.pageYOffset === 0) {\r\n    headerFixed.classList.remove(\"js-modify-header\");\r\n  }\r\n  lastScrollTop = scrollTop;\r\n}, { passive: true });\r\n","    function trackScroll() {\r\n        const scrolled = window.pageYOffset;\r\n        const coords = document.documentElement.clientHeight;\r\n        if (scrolled > coords) {\r\n            goTopBtn.classList.add('back_to_top-show');\r\n        }\r\n        if (scrolled < coords) {\r\n            goTopBtn.classList.remove('back_to_top-show');\r\n        }\r\n    }\r\n    function backToTop() {\r\n        if (window.pageYOffset > 0) {\r\n            window.scrollBy(0, -80);\r\n            setTimeout(backToTop, 0);\r\n        }\r\n    }\r\n    const goTopBtn = document.querySelector('.back_to_top');\r\n    window.addEventListener('scroll', trackScroll);\r\n    goTopBtn.addEventListener('click', backToTop);","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isActive\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":21},\"end\":{\"line\":7,\"column\":28}}})) != null ? stack1 : \"\");\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                         <li class=\\\"pagination__item active\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"elem\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                         <li class=\\\"pagination__item \\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"elem\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"               <li class=\\\"pagination__item prev\\\"></li>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":15},\"end\":{\"line\":8,\"column\":24}}})) != null ? stack1 : \"\")\n    + \"               <li class=\\\"pagination__item next\\\"></li>\\r\\n\\r\\n\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}